<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="org.jbpm.ui"
   name="JBoss jBPM Designer Plug-in"
   version="3.0.1"
   provider-name="JBoss Inc."
   class="org.jbpm.ui.DesignerPlugin">
   
   <runtime>
      <library name=".">
         <export name="*"/>
      </library>
      <library name="lib/commons-jxpath-1.2.jar">
         <export name="*"/>
      </library>
      <library name="lib/xercesImpl.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/bsh-2.0b2.jar">
         <export
               name="*">
         </export>
      </library>
   </runtime>

   <requires>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.ui.views"/>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.eclipse.jdt.ui"/>
      <import plugin="org.eclipse.jdt.core"/>
      <import plugin="org.eclipse.ui.workbench.texteditor"/>
      <import plugin="org.eclipse.jdt.launching"/>
      <import plugin="org.eclipse.draw2d"/>
      <import plugin="org.eclipse.ui.forms"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="org.eclipse.gef"/>
      <import plugin="org.jbpm.core"/>
      <import plugin="org.eclipse.core.expressions"/>
      <import plugin="org.eclipse.search"/>
      <import plugin="org.eclipse.ltk.core.refactoring"/>
      <import plugin="org.eclipse.ltk.ui.refactoring"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.eclipse.graphiti" version="0.9.1"/>
      <import plugin="org.eclipse.graphiti.mm" version="0.9.1"/>
      <import plugin="org.eclipse.graphiti.pattern" version="0.9.1"/>
      <import plugin="org.eclipse.graphiti.ui" version="0.9.1"/>
      <import plugin="org.eclipse.ui.views.properties.tabbed" version="3.5.200"/>
      <import plugin="org.eclipse.emf.edit" version="2.7.2"/>
      <import plugin="org.eclipse.emf.transaction" version="1.4.0"/>
      <import plugin="org.eclipse.emf.ecore.xmi" version="2.7.0"/>
   </requires>
   <extension-point id="elements" name="Graph Element Extensions" schema="schema/elements.exsd"/>
   <extension-point id="formtype" name="form type" schema="schema/formtype.exsd"/>
   <extension-point id="orgfunctions" name="OrgFunctionDefinitions" schema="schema/orgfunctions.exsd"/>
   <extension-point id="delegablePropertyDescriprors" name="delegablePropertyDescriprors" schema="schema/delegablePropertyDescriprors.exsd"/>
   <extension-point id="swimlaneelements" name="swimlaneelements" schema="schema/swimlaneelements.exsd"/>
   <extension-point id="validators" name="validators" schema="schema/validators.exsd"/>
   
  <extension point = "org.eclipse.ui.editors">
    <editor
          class="ru.runa.gpd.ui.graphiti.ProcessEditor"
          contributorClass="org.eclipse.graphiti.ui.editor.DiagramEditorActionBarContributor"
          default="true"
          filenames="processdefinition.xml"
          icon="icons/bpmn/community_icon.png"
          id="org.jbpm.ui.editor.GraphitiEditor"
          name="GraphitiEditor">
        <contentTypeBinding contentTypeId="org.jbpm.ui.processdefinition.xml" /> 
        <contentTypeBinding contentTypeId="org.jbpm.ui.gpd.xml" /> 
    </editor>
  </extension> 
  	
  <extension point="org.eclipse.core.runtime.contentTypes">
  	<content-type id="gpd.xml" 	name="gpd-xml"
		base-type="org.eclipse.core.runtime.xml"
		file-extensions="xml"
		default-charset="UTF-8">
		<describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber">
			<parameter name="element" value="process-diagram"/>
		</describer>
	</content-type>
  	<content-type id="processdefinition.xml" 	name="processdefinition-xml"
		base-type="org.eclipse.core.runtime.xml"
		file-extensions="xml"
		default-charset="UTF-8">
		<describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber">
			<parameter name="element" value="process-definition"/>
		</describer>
	</content-type>
   <content-type
         file-extensions="bpmn"
         id="bpmn"
         name="bpmn"
         priority="normal">
   </content-type>
  </extension>
  <extension
        name="Tree actions"
        point="org.eclipse.ui.popupMenus">
    <objectContribution id="org.jbpm.ui.tree"
  		objectClass="org.jbpm.ui.common.part.tree.ElementTreeEditPart">
  		<visibility>
  			<not>
  				<objectClass name="org.jbpm.ui.common.part.tree.ProcessDefinitionTreeEditPart"/>
  			</not>
  		</visibility>
  		<action
  			class="org.jbpm.ui.common.action.DeleteDelegate"
  			id="delete"
  			label="%label.action.delete"
  			menubarPath="additions">
  		</action>
    </objectContribution>
    <objectContribution id="org.jbpm.ui.tree.variable"
  		objectClass="org.jbpm.ui.common.part.tree.VariableTreeEditPart">
  		<action
  			class="org.jbpm.ui.common.action.DeleteDelegate"
  			id="delete"
  			label="%label.action.delete"
  			menubarPath="additions">
  		</action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.tree.addAction"
          objectClass="org.jbpm.ui.common.part.tree.ElementTreeEditPart">
       <visibility>
          <or>
             <objectClass name="org.jbpm.ui.common.part.tree.TransitionTreeEditPart"/>
             <objectClass name="org.jbpm.ui.common.part.tree.ActionNodeTreeEditPart"/>
          </or>
       </visibility>
       <action
             class="org.jbpm.ui.jpdl2.action.AddActionDelegate2"
             id="addAction2"
             label="%label.action.addAction"
             menubarPath="additions"/>
    </objectContribution>
  </extension> 
  
  <extension
        name="Graph actions"
        point="org.eclipse.ui.popupMenus">
     <objectContribution
           adaptable="false"
           id="org.jbpm.ui.graph.transition"
           objectClass="org.jbpm.ui.common.part.graph.TransitionGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.ActiveActionsDelegate"
             id="org.jbpm.ui.graph.actions"
             label="%label.action.actions"
             menubarPath="additions"
             style="pulldown">
       </action>
    </objectContribution>
     <objectContribution
           adaptable="false"
           id="org.jbpm.ui.graph.actionNode"
           objectClass="org.jbpm.ui.jpdl3.part.graph.ActionNodeGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.ActiveActionsDelegate"
             id="org.jbpm.ui.graph.actions1"
             label="%label.action.actions"
             menubarPath="additions"
             style="pulldown">
       </action>
    </objectContribution>
     <objectContribution
           adaptable="false"
           id="org.jbpm.ui.graph.timerNode"
           objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.ActiveActionsDelegate"
             id="org.jbpm.ui.graph.actions"
             label="%label.action.actions"
             menubarPath="additions"
             style="pulldown">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.timerNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.timerExists"
             value="false"/>
       <action
             class="org.jbpm.ui.common.action.AddTimerDelegate"
             id="addTimer"
             label="%label.action.addTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.timerNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.timerExists"
             value="true"/>
       <action
             class="org.jbpm.ui.common.action.RemoveTimerDelegate"
             id="removeTimer"
             label="%label.action.removeTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.stateNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.escalationEnableOn"
             value="true"/>
       <action
             class="org.jbpm.ui.common.action.AddEscalationDelegate"
             id="addEscalation"
             label="%label.action.addEscalation"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.stateNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.escalationEnableOff"
             value="true"/>
       <action
             class="org.jbpm.ui.common.action.RemoveEscalationDelegate"
             id="addEscalation"
             label="%label.action.removeEscalation"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.stateNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.enableMinimizeView"
             value="true"/>
       <action
             class="org.jbpm.ui.common.action.ChangeCompactViewDelegate"
             id="setCompactView"
             label="%label.action.minimizeFigureView"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.stateNode"
          objectClass="org.jbpm.ui.common.part.graph.StateGraphicalEditPart">
       <filter
             name="org.jbpm.ui.enableRestoreView"
             value="true"/>
       <action
             class="org.jbpm.ui.common.action.ChangeCompactViewDelegate"
             id="unsetCompactView"
             label="%label.action.restoreFigureView"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.formNode"
          objectClass="org.jbpm.ui.common.part.graph.FormNodeEditPart">
       <menu
             id="org.jbpm.ui.form"
             label="%label.action.form"
             path="additions">
          <separator
                name="sp1">
          </separator>
          <separator
                name="sp2">
          </separator>
       </menu>
       <action
             class="org.jbpm.ui.common.action.EnableJSValidationDelegate"
             id="jsValidation"
             label="%label.action.javaScriptValidation"
             menubarPath="org.jbpm.ui.form/sp2"
             style="toggle"
             />
       <action
             class="org.jbpm.ui.common.action.OpenFormValidationDelegate"
             id="formValidation"
             label="%label.action.validationOfForm"
             menubarPath="org.jbpm.ui.form/sp2"
             />
       <action
             class="org.jbpm.ui.common.action.SwimlaneActionsDelegate"
             id="setSwimlanes"
             label="%label.action.swimlanes"
             menubarPath="additions"
             style="pulldown"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.formNode"
          objectClass="org.jbpm.ui.common.part.graph.FormNodeEditPart">
       <filter
             name="org.jbpm.ui.formExists"
             value="false">
       </filter>
       <action
             class="org.jbpm.ui.common.action.CreateFormDelegate"
             id="createForm"
             label="%label.action.createForm"
             menubarPath="org.jbpm.ui.form/sp1"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.formNode"
          objectClass="org.jbpm.ui.common.part.graph.FormNodeEditPart">
       <filter
             name="org.jbpm.ui.formExists"
             value="true">
       </filter>
       <action
             class="org.jbpm.ui.common.action.DeleteFormDelegate"
             id="deleteForm"
             label="%label.action.deleteForm"
             menubarPath="org.jbpm.ui.form/sp1"
             />
       <action
             class="org.jbpm.ui.common.action.OpenExternalFormEditorDelegate"
             id="editFormEditors"
             label="%label.action.editFormExternal"
             menubarPath="org.jbpm.ui.form/sp1"
             />
       <action
             class="org.jbpm.ui.common.action.OpenVisualFormEditorDelegate"
             id="visualEditForm"
             label="%label.action.editForm"
             menubarPath="org.jbpm.ui.form/sp1"
             />
       <action
             class="org.jbpm.ui.common.action.OpenFormScriptDelegate"
             id="editFormScript"
             label="%label.action.editFormScript"
             menubarPath="org.jbpm.ui.form/additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.definition"
          objectClass="org.jbpm.ui.common.part.graph.ProcessDefinitionGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.OpenDescriptionEditorDelegate"
             id="editDescription"
             label="%label.action.editDescription"/>
       <action
             class="org.jbpm.ui.common.action.OpenFormCSSDelegate"
             id="editFormCSS"
             label="%label.action.editFormCSS">
       </action>
       <action
             class="org.jbpm.ui.common.action.EscalationOnAction"
             id="turnEscalationOn"
             label="%label.action.turnEscalationOn">
       </action>
       <action
             class="org.jbpm.ui.common.action.EscalationOffAction"
             id="turnEscalationOff"
             label="%label.action.turnEscalationOff">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.decision"
          objectClass="org.jbpm.ui.common.part.graph.DecisionGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.OpenDelegableConfigurationDelegate"
             id="editConfiguration"
             label="%label.action.editConfiguration" />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.action"
          objectClass="org.jbpm.ui.common.part.graph.ActionGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.OpenDelegableConfigurationDelegate"
             id="editConfiguration"
             label="%label.action.editConfiguration" />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.subprocessStateNode"
          objectClass="org.jbpm.ui.common.part.graph.SubprocessGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.SubprocessDelegate"
             id="subprocess"
             label="%label.element.subprocess"
             menubarPath="additions"/>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.graph.slimNode"
          objectClass="org.jbpm.ui.common.part.graph.ForkJoinGraphicalEditPart">
       <action
             class="org.jbpm.ui.common.action.RotateForkJoinDelegate"
             id="rotateFigure"
             label="%label.action.rotate"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.multiInstanceStateNode"
          objectClass="org.jbpm.ui.jpdl3.part.graph.MultiInstanceGraphicalEditPart">
       <action
             class="org.jbpm.ui.jpdl3.action.MultiInstanceDelegate"
             id="multiInstance"
             label="%label.element.multiinstance"
             menubarPath="additions"/>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.sendMessageNode"
          objectClass="org.jbpm.ui.jpdl3.part.graph.SendMessageGraphicalEditPart">
       <action
             class="org.jbpm.ui.jpdl3.action.SendMessageConfAction"
             id="sendMessage"
             label="%label.element.sendmessage"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.receiveMessageNode"
          objectClass="org.jbpm.ui.jpdl3.part.graph.ReceiveMessageGraphicalEditPart">
       <action
             class="org.jbpm.ui.jpdl3.action.ReceiveMessageConfAction"
             id="receiveMessage"
             label="%label.element.receivemessage"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.receiveMessageNode"
          objectClass="org.jbpm.ui.jpdl3.part.graph.ReceiveMessageGraphicalEditPart">
       <filter
             name="org.jbpm.ui.timerExists"
             value="true">
       </filter>
       <action
             class="org.jbpm.ui.common.action.RemoveTimerDelegate"
             id="removeTimer2"
             label="%label.action.removeTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="org.jbpm.ui.receiveMessageNode"
          objectClass="org.jbpm.ui.jpdl3.part.graph.ReceiveMessageGraphicalEditPart">
       <filter
             name="org.jbpm.ui.timerExists"
             value="false">
       </filter>
       <action
             class="org.jbpm.ui.common.action.AddTimerDelegate"
             id="addTimer2"
             label="%label.action.addTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
  </extension>
  
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="Runa WFE"
            id="org.jbpm.ui">
      </category>
      <wizard
            name="Process Definition"
            category="org.jbpm.ui"
            class="org.jbpm.ui.wizard.NewProcessDefinitionWizard"
            id="org.jbpm.ui.wizard.new.file">
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
      <wizard
            name="Process Project"
            category="org.jbpm.ui"
            class="org.jbpm.ui.wizard.NewProcessProjectWizard"
            id="org.jbpm.ui.wizard.new.project"
            project="true" >
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
   </extension>
  
   <extension
         id="jpdl3"
         name="3.x"
         point="org.jbpm.ui.elements">
      <element
            figure="org.jbpm.ui.common.figure.TransitionFigure"
            graphicalEditPart="org.jbpm.ui.jpdl3.part.graph.TransitionGraphicalEditPart"
            model="org.jbpm.ui.common.model.Transition"
            name="transition"
            treeEditPart="org.jbpm.ui.common.part.tree.TransitionTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="transition.png"
               id="org.jbpm.ui.palette.0.Transition"
               label="%label.element.transition"
               type="connection"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.StartStateFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.FormNodeEditPart"
            model="org.jbpm.ui.jpdl3.model.StartState"
            name="start-state"
            treeEditPart="org.jbpm.ui.common.part.tree.StartStateTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="start.png"
               id="org.jbpm.ui.palette.a1.StartState"
               label="%label.element.startState"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.TimerStateFigure"
            graphicalEditPart="org.jbpm.ui.jpdl3.part.graph.TaskStateGraphicalEditPart"
            model="org.jbpm.ui.jpdl3.model.TaskState"
            name="task-node"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="state.png"
               id="org.jbpm.ui.palette.a2.State"
               label="%label.element.state"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.WaitStateFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.LabeledNodeGraphicalEditPart"
            model="org.jbpm.ui.common.model.WaitState"
            name="waitState"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="waitstate.png"
               id="org.jbpm.ui.palette.a3.WaitState"
               label="%label.element.waitstate"
               type="node">
         </entry>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.EndStateFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.LabeledNodeGraphicalEditPart"
            model="org.jbpm.ui.common.model.EndState"
            name="end-state"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="end.png"
               id="org.jbpm.ui.palette.b4.EndState"
               label="%label.element.end"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.ForkJoinFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.ForkJoinGraphicalEditPart"
            model="org.jbpm.ui.common.model.Fork"
            name="fork"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="fork.png"
               id="org.jbpm.ui.palette.a9.Fork"
               label="%label.element.fork"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.ForkJoinFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.ForkJoinGraphicalEditPart"
            model="org.jbpm.ui.common.model.Join"
            name="join"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="join.png"
               id="org.jbpm.ui.palette.b0.Join"
               label="%label.element.join"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.DecisionFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.DecisionGraphicalEditPart"
            model="org.jbpm.ui.common.model.Decision"
            name="decision"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="decision.png"
               id="org.jbpm.ui.palette.a7.Decision"
               label="%label.element.decision"
               type="node"/>
      </element>
      <element
            figure="org.jbpm.ui.common.figure.ActionFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.ActionGraphicalEditPart"
            model="org.jbpm.ui.jpdl3.model.ActionImpl"
            name="action"
            treeEditPart="org.jbpm.ui.common.part.tree.ActionTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="action.png"
               id="org.jbpm.ui.palette.b1.Action"
               label="%label.element.action"
               type="node">
         </entry>
      </element>
      <element
            model="org.jbpm.ui.common.model.Swimlane"
            name="swimlane"
            treeEditPart="org.jbpm.ui.common.part.tree.SwimlaneTreeEditPart"/>
      <element
            figure="org.jbpm.ui.common.figure.GridSupportLayer"
            graphicalEditPart="org.jbpm.ui.common.part.graph.ProcessDefinitionGraphicalEditPart"
            model="org.jbpm.ui.common.model.ProcessDefinition"
            name="process-definition"
            treeEditPart="org.jbpm.ui.common.part.tree.ProcessDefinitionTreeEditPart"/>
      <element
            figure="org.jbpm.ui.common.figure.SubprocessFigure"
            graphicalEditPart="org.jbpm.ui.common.part.graph.SubprocessGraphicalEditPart"
            model="org.jbpm.ui.common.model.Subprocess"
            name="process-state"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="subprocess.png"
               id="org.jbpm.ui.palette.a5.ProcessState"
               label="%label.element.subprocess"
               type="node"/>
      </element>
      <contentProvider
            serializerClass="org.jbpm.ui.jpdl3.JpdlSerializer_3_2"/>
      <element
            figure="org.jbpm.ui.jpdl3.figure.MultiInstanceFigure"
            graphicalEditPart="org.jbpm.ui.jpdl3.part.graph.MultiInstanceGraphicalEditPart"
            model="org.jbpm.ui.jpdl3.model.MultiInstance"
            name="multiinstance-state"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="multiinstance.png"
               id="org.jbpm.ui.palette.a6.MultiInstanceState"
               label="%label.element.multiinstance"
               type="node">
         </entry>
      </element>
      <element
            figure="org.jbpm.ui.jpdl3.figure.SendMessageFigure"
            graphicalEditPart="org.jbpm.ui.jpdl3.part.graph.SendMessageGraphicalEditPart"
            model="org.jbpm.ui.jpdl3.model.SendMessageNode"
            name="send-message"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="sendmessage.png"
               id="org.jbpm.ui.palette.a7.SendMessageNode"
               label="%label.element.sendmessage"
               type="node">
         </entry>
         <onVariableRenamed
               provider="org.jbpm.ui.editor.ltk.SendMessageRenameProvider">
         </onVariableRenamed>
      </element>
      <element
            figure="org.jbpm.ui.jpdl3.figure.ReceiveMessageFigure"
            graphicalEditPart="org.jbpm.ui.jpdl3.part.graph.ReceiveMessageGraphicalEditPart"
            model="org.jbpm.ui.jpdl3.model.ReceiveMessageNode"
            name="receive-message"
            treeEditPart="org.jbpm.ui.common.part.tree.NodeTreeEditPart">
         <entry
               category="org.jbpm.palette.1.BasicNodeTools"
               icon="receivemessage.png"
               id="org.jbpm.ui.palette.a7.ReceiveMessageNode"
               label="%label.element.receivemessage"
               type="node">
         </entry>
         <onVariableRenamed
               provider="org.jbpm.ui.editor.ltk.ReceiveMessageRenameProvider">
         </onVariableRenamed>
      </element>
   </extension>
   <extension
         point="org.eclipse.jdt.core.classpathContainerInitializer">
      <classpathContainerInitializer
            class="org.jbpm.ui.util.JbpmClasspathContainerInitializer"
            id="JBPM"/>
   </extension>
   
   
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            class="org.jbpm.ui.wizard.ExportParWizard"
            icon="icons/process.gif"
            id="org.jbpm.ui.wizard.export.par"
            name="Par file">
         <selection
               class="org.eclipse.core.resources.IFile"
               name="processdefinition.xml"/>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            class="org.jbpm.ui.wizard.ImportParWizard"
            icon="icons/process.gif"
            id="org.jbpm.ui.wizard.ImportParWizard"
            name="Import project from Par">
         <description>
            Import a file from the local file system into the workspace.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.jbpm.ui.DesignerPerspectiveFactory"
            fixed="false"
            id="org.jbpm.ui.perspective"
            name="%label.perspective.processDesigner"/>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.jbpm.ui.perspective">
         <view
               id="org.jbpm.ui.explorerView"
               ratio="0.2"
               relationship="left"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="org.eclipse.ui.views.ContentOutline"
               ratio="0.8"
               relationship="right"
               relative="org.eclipse.ui.editorss"/>
         <viewShortcut id="org.jbpm.ui.explorerView"/>
         <newWizardShortcut id="org.jbpm.ui.wizard.new.file"/>
         <newWizardShortcut id="org.jbpm.ui.wizard.new.project"/>
         <perspectiveShortcut id="org.jbpm.ui.perspective"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="org.jbpm.ui.view.category"
            class="org.jbpm.ui.view.ExplorerTreeView"
            icon="icons/filenav_nav.gif"
            id="org.jbpm.ui.explorerView"
            name="%label.view.designerExplorer"/>
      <category
            id="org.jbpm.ui.view.category"
            name="RUNA WFE"/>
      <view
            class="org.jbpm.ui.view.ValidationErrorsView"
            icon="icons/validation_error.gif"
            id="org.jbpm.ui.validationErrors"
            name="%label.view.errors"/>
      <view
            class="org.jbpm.ui.view.PropertiesView"
            icon="icons/properties_view.gif"
            id="org.jbpm.ui.propertiesView"
            name="%label.view.properties"/>
   </extension>
   <extension
         id="RUNA"
         point="org.eclipse.core.runtime.products">
      <product
            application="ru.runa.jbpm.ui.bp editor"
            name="runa-gpd">
         <property
               name="aboutImage"
               value="icons/logo_wfe.gif"/>
         <property
               name="aboutText"
               value="Runa GPD&#x0A;&#x0A;Version: _RunaWFE-Version_&#x0A;&#x0A;This program is free software; you can redistribute it and/or &#x0A;modify it under the terms of the GNU Lesser General Public License &#x0A;as published by the Free Software Foundation; version 2.1 &#x0A;of the License. &#x0A;&#x0A;This program is distributed in the hope that it will be useful, &#x0A;but WITHOUT ANY WARRANTY; without even the implied warranty of &#x0A;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the &#x0A;GNU Lesser General Public License for more details. &#x0A;&#x0A;You should have received a copy of the GNU Lesser General Public License &#x0A;along with this program; if not, write to the Free Software &#x0A;Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA."/>
         <property
               name="windowImages"
               value="icons/logo/16.gif,icons/logo/32.gif,icons/logo/48.gif"/>
         <property
               name="appName"
               value="runa-gpd">
         </property>
      </product>
   </extension>
   <extension
         point="org.jbpm.ui.formtype">
      <element
            contributor="org.jbpm.ui.forms.FTLStubFormType"
            name="FTL"
            type="ftl"/>
   </extension>
   <extension
         point="org.jbpm.ui.orgfunctions">
      <orgfunction
            className="ru.runa.af.organizationfunction.ChiefFunction"
            name="ChiefFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.af.organizationfunction.DemoChiefFunction"
            name="DemoChiefFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.af.organizationfunction.ExecutorByCodeFunction"
            name="ExecutorByCodeFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.af.organizationfunction.DirectorFunction"
            name="DirectorFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.af.organizationfunction.ExecutorByNameFunction"
            name="ExecutorByNameFunction">
         <parameter
               name="OrgFunction.ExecutorName"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.af.organizationfunction.SQLFunction"
            name="SQLFunction">
         <parameter
               name="OrgFunction.SQLQuery"
               type="string"/>
         <parameter
               multiple="true"
               name="OrgFunction.SQLQueryParameter"
               type="string"/>
      </orgfunction>
   </extension>
   <extension
         point="org.jbpm.ui.delegablePropertyDescriprors">
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.BSHDecisionProvider"
            className="ru.runa.wf.jbpm.delegation.decision.BSFDecisionHandler"
            name="BSFDecisionHandler"
            type="decisionHandler"/>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.SQLHandlerCellEditorProvider"
            className="ru.runa.wf.SQLActionHandler"
            name="%ActionHandler.SQLActionHandler"
            type="actionHandler"/>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.SwimlaneInitializerProvider"
            className="ru.runa.wf.jbpm.delegation.assignment.AssignmentHandler"
            name="AssignmentHandler"
            type="assignmentHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.FormulaCellEditorProvider"
            className="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler"
            name="%ActionHandler.ExecuteFormulaActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.SwimlaneAssignerCellEditorProvider"
            className="ru.runa.wf.swimlane.AssignSwimlaneActionHandler"
            name="%ActionHandler.AssignSwimlaneActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.ActorNameEditorProvider"
            className="ru.runa.wf.users.ActorNameActionHandler"
            name="%ActionHandler.ActorNameActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.BSHActionHandlerProvider"
            className="ru.runa.wf.BSHActionHandler"
            name="%ActionHandler.BSHActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.SendEmailActionHandlerProvider"
            className="ru.runa.wf.SendEmailActionHandler"
            name="%ActionHandler.EmailActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.EscalationActionHandlerProvider"
            className="ru.runa.wf.EscalationActionHandler"
            name="%ActionHandler.EscalationActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.ConfigBasedProvider"
            className="ru.runa.wf.CreateOptionActionHandler"
            name="%ActionHandler.CreateOptionActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.ConfigBasedProvider"
            className="ru.runa.wf.var.RemoveObjectFromListActionHandler"
            name="%ActionHandler.RemoveObjectFromListActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.ConfigBasedProvider"
            className="ru.runa.wf.var.AddObjectToListActionHandler"
            name="%ActionHandler.AddObjectToListActionHandler"
            type="actionHandler">
      </delegable>
      <delegable
            cellEditorProvider="org.jbpm.ui.custom.ConfigBasedProvider"
            className="ru.runa.wf.var.SortListActionHandler"
            name="%ActionHandler.SortListActionHandler"
            type="actionHandler">
      </delegable>
   </extension>
   <extension
         point="org.jbpm.ui.swimlaneelements">
      <element
            className="org.jbpm.ui.orgfunctions.SwimlaneRelationsElement"
            name="SwimlaneElement.RelationLabel">
      </element>
      <element
            className="org.jbpm.ui.orgfunctions.SwimlaneGroupElement"
            name="SwimlaneElement.OrgFunctionsGroupLabel">
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneGeneralElement"
               name="SwimlaneElement.ChiefFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ChiefFunction">
            </param>
         </element>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneGeneralElement"
               name="SwimlaneElement.DirectorFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="DirectorFunction">
            </param>
         </element>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneGeneralElement"
               name="SwimlaneElement.DemoChiefFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="DemoChiefFunction">
            </param>
         </element>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneGeneralElement"
               name="SwimlaneElement.ExecutorByNameFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ExecutorByNameFunction">
            </param>
         </element>
      </element>
      <element
            className="org.jbpm.ui.orgfunctions.SwimlaneWFGroupElement"
            name="SwimlaneElement.WFFunctionsGroupLabel">
         <param
               name="description"
               value="SwimlaneElement.WFFunctionsGroupDescription">
         </param>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneWFElement"
               name="SwimlaneElement.WFUsersLabel">
            <param
                  name="mask"
                  value="1">
            </param>
         </element>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneWFElement"
               name="SwimlaneElement.WFGroupsLabel">
            <param
                  name="mask"
                  value="2">
            </param>
         </element>
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneWFElement"
               name="SwimlaneElement.WFUsersGroupsLabel">
            <param
                  name="mask"
                  value="3">
            </param>
         </element>
      </element>
      <element
            className="org.jbpm.ui.orgfunctions.SwimlaneGroupElement"
            name="SwimlaneElement.CustomFunctionsGroupLabel">
         <element
               className="org.jbpm.ui.orgfunctions.SwimlaneADElement"
               name="SwimlaneElement.ADExecutorsLabel">
         </element>
      </element>
      <element
            className="org.jbpm.ui.orgfunctions.SwimlaneManualElement"
            name="SwimlaneElement.ManualLabel">
      </element>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="copy"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+C">
      </key>
      <key
            commandId="paste"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+V">
      </key>
      <key
            commandId="selectAll"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+A">
      </key>
      <key
            commandId="redo"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+Y">
      </key>
      <key
            commandId="undo"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+Z">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="copy"
            name="copy">
      </command>
      <command
            id="paste"
            name="paste">
      </command>
      <command
            id="selectAll"
            name="selectAll">
      </command>
      <command
            id="undo"
            name="undo">
      </command>
      <command
            id="redo"
            name="redo">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="gefEditor.context"
            name="gefEditor.context"
            parentId="org.eclipse.ui.contexts.window">
      </context>
   </extension>
   	<extension
    	id="FileSearchPage"
        point="org.eclipse.search.searchResultViewPages">
		<viewPage
			id="org.jbpm.ui.editor.GPDSearchResultPage"
			searchResultClass="org.jbpm.ui.editor.search.GPDSearchResult"
			class="org.jbpm.ui.editor.search.GPDSearchPage">
		</viewPage>
	</extension>
    <extension
          point="org.jbpm.ui.validators">
       <validator
             description="%validator.required.desc"
             displayName="%validator.required.name"
             name="required">
       </validator>
       <validator
             applicable="long,double"
             description="%validator.number.desc"
             displayName="%validator.number.name"
             name="number">
          <param
                displayName="%validator.number.param.min"
                name="min"
                type="number">
          </param>
          <param
                displayName="%validator.number.param.max"
                name="max"
                type="number">
          </param>
          <param
                displayName="%validator.number.param.inclusive"
                name="inclusive"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.date.desc"
             displayName="%validator.date.name"
             name="date">
          <param
                displayName="%validator.date.param.min"
                name="min"
                type="date">
          </param>
          <param
                displayName="%validator.date.param.max"
                name="max"
                type="date">
          </param>
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateInThisMonth.desc"
             displayName="%validator.dateInThisMonth.name"
             name="dateInThisMonth">
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateInThisYear.desc"
             displayName="%validator.dateInThisYear.name"
             name="dateInThisYear">
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateRelativeToCurrent.desc"
             displayName="%validator.dateRelativeToCurrent.name"
             name="dateRelativeToCurrent">
          <param
                displayName="%validator.dateRelativeToCurrent.param.min"
                name="min"
                type="number">
          </param>
          <param
                displayName="%validator.dateRelativeToCurrent.param.max"
                name="max"
                type="number">
          </param>
       </validator>
       <validator
             applicable="string"
             description="%validator.email.desc"
             displayName="%validator.email.name"
             name="email">
       </validator>
       <validator
             applicable="string"
             description="%validator.url.desc"
             displayName="%validator.url.name"
             name="url">
       </validator>
       <validator
             applicable="string"
             description="%validator.stringlength.desc"
             displayName="%validator.stringlength.name"
             name="stringlength">
          <param
                displayName="%validator.stringlength.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                displayName="%validator.stringlength.param.maxLength"
                name="maxLength"
                type="number">
          </param>
          <param
                displayName="%validator.stringlength.param.doTrim"
                name="doTrim"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="string"
             description="%validator.regex.desc"
             displayName="%validator.regex.name"
             name="regex">
          <param
                displayName="%validator.regex.param.expression"
                name="expression"
                type="string">
          </param>
          <param
                displayName="%validator.regex.param.caseSensitive"
                name="caseSensitive"
                type="boolean">
          </param>
          <param
                displayName="%validator.regex.param.trim"
                name="trim"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileSize.desc"
             displayName="%validator.fileSize.name"
             name="fileSize">
          <param
                displayName="%validator.fileSize.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                displayName="%validator.fileSize.param.maxLength"
                name="maxLength"
                type="number">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileContentType.desc"
             displayName="%validator.fileContentType.name"
             name="fileContentType">
          <param
                displayName="%validator.fileContentType.param.contentType"
                name="contentType"
                type="string">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileExtension.desc"
             displayName="%validator.fileExtension.name"
             name="fileExtension">
          <param
                displayName="%validator.fileExtension.param.extension"
                name="extension"
                type="string">
          </param>
       </validator>
       <validator
             applicable="time"
             description="%validator.time.desc"
             displayName="%validator.time.name"
             name="time">
          <param
                displayName="%validator.time.param.min"
                name="min"
                type="time">
          </param>
          <param
                displayName="%validator.time.param.max"
                name="max"
                type="time">
          </param>
       </validator>
       <validator
             applicable="stringArray"
             description="%validator.arraySize.desc"
             displayName="%validator.arraySize.name"
             name="arraySize">
          <param
                displayName="%validator.arraySize.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                displayName="%validator.arraySize.param.maxLength"
                name="maxLength"
                type="number">
          </param>
       </validator>
    </extension>
    <extension
          point="org.eclipse.core.runtime.preferences">
       <initializer
             class="org.jbpm.ui.pref.PreferenceInitializer">
       </initializer>
    </extension>
    <extension
          point="org.eclipse.ui.preferencePages">
       <page
             class="org.jbpm.ui.pref.NotationPreferencePage"
             id="org.jbpm.ui.pref.notation"
             name="%pref.notation">
       </page>
       <page
             category="org.jbpm.ui.pref.notation"
             class="org.jbpm.ui.pref.BPMNPreferencePage"
             id="org.jbpm.ui.pref.bpmn"
             name="%pref.notation.bpmn">
       </page>
       <page
             class="org.jbpm.ui.pref.FormPreferencePage"
             id="org.jbpm.ui.pref.form"
             name="%pref.form">
       </page>
       <page
			 class="org.jbpm.ui.pref.EmptyPreferencePage"
             id="org.jbpm.ui.pref.task.escalation"
             name="%pref.task.escalation">
       </page>
       <page
             category="org.jbpm.ui.pref.task.escalation"
             class="org.jbpm.ui.pref.EscalationGlobalPreferencePage"
             id="org.jbpm.ui.pref.task.escalation.global"
             name="%pref.task.escalation.global">
       </page>
       <page
             class="org.jbpm.ui.pref.EmptyPreferencePage"
             id="org.jbpm.ui.pref.connection"
             name="%pref.connection">
       </page>
       <page
             category="org.jbpm.ui.pref.connection"
             class="org.jbpm.ui.pref.WFEConnectionPreferencePage"
             id="org.jbpm.ui.pref.connection.wfe"
             name="%pref.connection.wfe">
       </page>
       <page
             category="org.jbpm.ui.pref.connection"
             class="org.jbpm.ui.pref.LDAPConnectionPreferencePage"
             id="org.jbpm.ui.pref.connection.ldap"
             name="%pref.connection.ldap">
       </page>
    </extension>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypes">
      <diagramType
            description="The BPMN diagram for the process"
            id="ru.runa.wfe.GraphitiType"
            name="BPMN diagram type"
            type="BPMNdiagram">
      </diagramType>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypeProviders">
      <diagramTypeProvider
            class="ru.runa.gpd.ui.graphiti.DiagramTypeProvider"
            id="ru.runa.wfe.GraphitiTypeProvider"
            name="BPMN editor">
         <diagramType
               id="ru.runa.wfe.GraphitiType">
         </diagramType>
         <imageProvider
               id="ru.runa.wfe.GraphitiImageProvider">
         </imageProvider>
      </diagramTypeProvider>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.imageProviders">
      <imageProvider
            class="ru.runa.gpd.ui.graphiti.DiagramImageProvider"
            id="ru.runa.wfe.GraphitiImageProvider">
      </imageProvider>
   </extension>

</plugin>
