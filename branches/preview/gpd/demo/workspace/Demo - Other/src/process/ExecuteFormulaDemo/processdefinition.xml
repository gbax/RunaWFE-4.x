<?xml version="1.0" encoding="UTF-8"?>
<process-definition name="ExecuteFormulaDemo" xmlns="urn:jbpm.org:jpdl-3.2">
  <description><![CDATA[Example of ExecuteFormulaActionHandler using (no start form provided)]]></description>
  <swimlane name="user">
    <assignment
      class="ru.runa.wf.jbpm.delegation.assignment.AssignmentHandler" config-type="configuration-property"><![CDATA[]]></assignment>
  </swimlane>
  <start-state name="start">
    <task name="start" swimlane="user"/>
    <transition name="tr1" to="state1">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[a = (10 + 2) / 4]]></action>
    </transition>
  </start-state>
  <task-node name="state2">
    <description><![CDATA[c = true & ( false ^ true ) | ("aab"<="aaa")]]></description>
    <task name="state2" swimlane="user"/>
    <transition name="tr1" to="state3">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[variable = a<5 & a>0.27]]></action>
    </transition>
  </task-node>
  <task-node name="state3">
    <description><![CDATA[variable = a<5 & a>0.27]]></description>
    <task name="state3" swimlane="user"/>
    <transition name="tr1" to="state4">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[date = 30.08.08]]></action>
    </transition>
  </task-node>
  <task-node name="state4">
    <description><![CDATA[date = 30.08.08]]></description>
    <task name="state4" swimlane="user"/>
    <transition name="tr1" to="state5">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[str = "date = " + date]]></action>
    </transition>
  </task-node>
  <task-node name="state5">
    <description><![CDATA[str = "date = " + date]]></description>
    <task name="state5" swimlane="user"/>
    <transition name="tr1" to="state6">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[minuts = '30.08.2008 00:15' - date]]></action>
    </transition>
  </task-node>
  <task-node name="state6">
    <description><![CDATA[minuts = '30.08.2008 00:15' - date]]></description>
    <task name="state6" swimlane="user"/>
    <transition name="tr1" to="state7">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[str = str + " ; " + "variable" + " = " + variable + " ; \"" + (a-0.1) + "\""]]></action>
    </transition>
  </task-node>
  <task-node name="state1">
    <description><![CDATA[a = (10 + 2) / 4]]></description>
    <task name="state1" swimlane="user"/>
    <transition name="tr1" to="state2">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[c = true & ( false ^ true ) | ("aab"<="aaa")]]></action>
    </transition>
  </task-node>
  <task-node name="state7">
    <description><![CDATA[str = str + " ; " + "variable" + " = " + variable + " ; \"" + (a-0.1) + "\""]]></description>
    <task name="state7" swimlane="user"/>
    <transition name="tr1" to="state8"/>
  </task-node>
  <task-node name="state8">
    <description><![CDATA[upload file]]></description>
    <task name="state8" swimlane="user"/>
    <transition name="tr1" to="state9">
      <action class="ru.runa.wfe.bp.commons.ExecuteFormulaActionHandler" config-type="configuration-property"><![CDATA[file2 = file1]]></action>
    </transition>
  </task-node>
  <task-node name="state9">
    <description><![CDATA[file2 = file1]]></description>
    <task name="state9" swimlane="user"/>
    <transition name="tr1" to="end"/>
  </task-node>
  <end-state name="end"/>
</process-definition>
