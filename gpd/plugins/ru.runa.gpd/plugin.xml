<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="ru.runa.gpd"
   name="RunaWFE designer Plug-In"
   version="4.0"
   provider-name="Runa"
   class="ru.runa.gpd.Activator">
   <runtime>
      <library name=".">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/commons-httpclient.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/commons-jxpath-1.2.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/commons-logging.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/dom4j-1.6.1.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/ejb3-persistence.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/guava-12.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/hibernate-annotations.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/hibernate3.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/jboss-j2ee.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/jbossall-client.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/jcifs.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/mail.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/wfe-core.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/wfe-service.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/groovy-2.0.5.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/asm-4.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/asm-analysis-4.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/asm-commons-4.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/asm-tree-4.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/asm-util-4.0.jar">
         <export
               name="*">
         </export>
      </library>
      <library name="lib/antlr-2.7.6.jar">
         <export
               name="*">
         </export>
      </library>
   </runtime>

   <requires>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.jdt.launching"/>
      <import plugin="org.eclipse.draw2d"/>
      <import plugin="org.eclipse.jdt.ui"/>
      <import plugin="org.eclipse.jdt.core"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.ui.forms"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.eclipse.ui.views"/>
      <import plugin="org.eclipse.ui.views.log"/>
      <import plugin="org.eclipse.ui.workbench.texteditor"/>
      <import plugin="org.eclipse.gef"/>
      <import plugin="org.eclipse.core.expressions"/>
      <import plugin="org.eclipse.search"/>
      <import plugin="org.eclipse.ltk.core.refactoring"/>
      <import plugin="org.eclipse.ltk.ui.refactoring"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.eclipse.graphiti"/>
      <import plugin="org.eclipse.graphiti.mm"/>
      <import plugin="org.eclipse.graphiti.pattern"/>
      <import plugin="org.eclipse.graphiti.ui"/>
      <import plugin="org.eclipse.ui.views.properties.tabbed"/>
      <import plugin="org.eclipse.emf.edit"/>
      <import plugin="org.eclipse.emf.transaction"/>
      <import plugin="org.eclipse.emf.ecore.xmi"/>
      <import plugin="org.apache.xerces"/>
   </requires>

   <extension-point id="elements" name="Process elements" schema="schema/elements.exsd"/>
   <extension-point id="formtype" name="Form types" schema="schema/formtype.exsd"/>
   <extension-point id="orgFunctions" name="Org function definitions" schema="schema/orgFunctions.exsd"/>
   <extension-point id="handlers" name="Handlers" schema="schema/handlers.exsd"/>
   <extension-point id="formats" name="Variable formats" schema="schema/formats.exsd"/>
   <extension-point id="swimlaneElements" name="Swimlane elements" schema="schema/swimlaneElements.exsd"/>
   <extension-point id="validators" name="Variable validators" schema="schema/validators.exsd"/>

  <extension point = "org.eclipse.ui.editors">
    <editor
          class="ru.runa.gpd.editor.graphiti.GraphitiProcessEditor"
          contributorClass="ru.runa.gpd.editor.graphiti.DiagramActionBarContributor"
          default="true"
          filenames="processdefinition.xml"
          icon="icons/bpmn/community_icon.png"
          id="ru.runa.gpd.GraphitiProcessEditor"
          name="GraphitiEditor">
    </editor>
    <editor
          class="ru.runa.gpd.editor.gef.GEFProcessEditor"
          icon="icons/process.gif"
          id="ru.runa.gpd.GEFDesignerEditor"
          name="GEFEditor">
    </editor>
  </extension> 
  	
  <extension
        name="Graph actions"
        point="org.eclipse.ui.popupMenus">
    <objectContribution id="graph.element"
  		objectClass="ru.runa.gpd.lang.model.GraphElement">
    <filter
          name="language"
          value="jpdl">
    </filter>
  		<action
  			class="ru.runa.gpd.lang.action.DeleteGraphElementDelegate"
  			id="delete"
  			label="%label.action.delete"
  			menubarPath="additions">
  		</action>
    </objectContribution>
     <objectContribution
           adaptable="false"
           id="graph.transition"
           objectClass="ru.runa.gpd.lang.model.Transition">
       <action
             class="ru.runa.gpd.lang.action.ActiveActionsDelegate"
             id="graph.actions"
             label="%label.action.actions"
             menubarPath="additions"
             style="pulldown">
       </action>
    </objectContribution>
     <objectContribution
           adaptable="false"
           id="graph.stateNode1"
           objectClass="ru.runa.gpd.lang.model.State">
        <filter
              name="language"
              value="jpdl">
        </filter>
       <action
             class="ru.runa.gpd.lang.action.ActiveActionsDelegate"
             id="graph.actions"
             label="%label.action.actions"
             menubarPath="additions"
             style="pulldown">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.stateNodeAddTimer"
          objectClass="ru.runa.gpd.lang.model.State">
       <filter
             name="timerExists"
             value="false"/>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.AddTimerDelegate"
             id="addTimer"
             label="%label.action.addTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.stateNodeDeleteTimer"
          objectClass="ru.runa.gpd.lang.model.State">
       <filter
             name="timerExists"
             value="true"/>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.DeleteTimerDelegate"
             id="removeTimer"
             label="%label.action.removeTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.taskStateNode1"
          objectClass="ru.runa.gpd.lang.model.TaskState">
       <filter
             name="escalationEnabled"
             value="false"/>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.EnableEscalationOnTaskDelegate"
             id="addEscalation"
             label="%label.action.addEscalation"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.taskStateNode2"
          objectClass="ru.runa.gpd.lang.model.TaskState">
       <filter
             name="escalationEnabled"
             value="true"/>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.DisableEscalationOnTaskDelegate"
             id="removeEscalation"
             label="%label.action.removeEscalation"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.Synchronizable"
          objectClass="ru.runa.gpd.lang.model.Synchronizable">
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.EnableAsyncOnTaskDelegate"
             id="addAsync"
             label="%label.action.async"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.stateNode"
          objectClass="ru.runa.gpd.lang.model.State">
       <filter
             name="minimizedView"
             value="false"/>
       <action
             class="ru.runa.gpd.lang.action.ChangeCompactViewDelegate"
             id="setCompactView"
             label="%label.action.minimizeFigureView"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.stateNode"
          objectClass="ru.runa.gpd.lang.model.State">
       <filter
             name="minimizedView"
             value="true"/>
       <action
             class="ru.runa.gpd.lang.action.ChangeCompactViewDelegate"
             id="unsetCompactView"
             label="%label.action.restoreFigureView"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.swimlanedNode"
          objectClass="ru.runa.gpd.lang.model.SwimlanedNode">
       <filter
             name="disableSwimlaneSelection"
             value="false">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.SwimlaneActionsDelegate"
             id="setSwimlanes"
             label="%label.action.swimlanes"
             menubarPath="additions"
             style="pulldown"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.multiTaskNode"
          objectClass="ru.runa.gpd.lang.model.MultiTaskState">
       <action
             class="ru.runa.gpd.lang.action.MultiTaskExecutorsActionsDelegate"
             id="setMultiTaskExecutors"
             label="%label.action.executors"
             menubarPath="additions"
             style="pulldown"
             />
       <action
             class="ru.runa.gpd.lang.action.MultiTaskExecutionModeDelegate"
             id="setTaskExecutionMode"
             label="%label.action.tasksExecutionMode"
             menubarPath="additions"
             style="pulldown"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.formNode1"
          objectClass="ru.runa.gpd.lang.model.FormNode">
       <menu
             id="form"
             label="%label.action.form"
             path="additions">
          <separator
                name="sp1">
          </separator>
          <separator
                name="sp2">
          </separator>
       </menu>
       <action
             class="ru.runa.gpd.lang.action.EnableJSValidationDelegate"
             id="jsValidation"
             label="%label.action.javaScriptValidation"
             menubarPath="form/sp2"
             style="toggle"
             />
       <action
             class="ru.runa.gpd.lang.action.OpenFormValidationDelegate"
             id="formValidation"
             label="%label.action.validationOfForm"
             menubarPath="form/sp2"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.formNode2"
          objectClass="ru.runa.gpd.lang.model.FormNode">
       <filter
             name="formExists"
             value="false">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.CreateFormDelegate"
             id="createForm"
             label="%label.action.createForm"
             menubarPath="form/sp1"
             />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.formNode3"
          objectClass="ru.runa.gpd.lang.model.FormNode">
       <filter
             name="formExists"
             value="true">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.DeleteFormDelegate"
             id="deleteForm"
             label="%label.action.deleteForm"
             menubarPath="form/sp1"
             />
       <action
             class="ru.runa.gpd.lang.action.OpenExternalFormEditorDelegate"
             id="editFormEditors"
             label="%label.action.editFormExternal"
             menubarPath="form/sp1"
             />
       <action
             class="ru.runa.gpd.lang.action.OpenVisualFormEditorDelegate"
             id="visualEditForm"
             label="%label.action.editForm"
             menubarPath="form/sp1"
             />
       <action
             class="ru.runa.gpd.lang.action.OpenFormScriptDelegate"
             id="editFormScript"
             label="%label.action.editFormScript"
             menubarPath="form/additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.process"
          objectClass="ru.runa.gpd.lang.model.ProcessDefinition">
       <action
             class="ru.runa.gpd.lang.action.OpenDescriptionEditorDelegate"
             id="editDescription"
             label="%label.action.editDescription"/>
       <action
             class="ru.runa.gpd.lang.action.OpenFormCSSDelegate"
             id="editFormCSS"
             label="%label.action.editFormCSS">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.process"
          objectClass="ru.runa.gpd.lang.model.ProcessDefinition">
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.EnableEscalationOnProcessAction"
             id="turnEscalationOn"
             label="%label.action.turnEscalationOn">
       </action>
       <action
             class="ru.runa.gpd.lang.action.DisableEscalationOnProcessAction"
             id="turnEscalationOff"
             label="%label.action.turnEscalationOff">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.decision"
          objectClass="ru.runa.gpd.lang.model.Delegable">
       <action
             class="ru.runa.gpd.lang.action.OpenDelegableConfigurationDelegate"
             id="editConfiguration"
             label="%label.action.editConfiguration" />
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="subprocessNode"
          objectClass="ru.runa.gpd.lang.model.Subprocess">
       <action
             class="ru.runa.gpd.lang.action.SubprocessDelegate"
             id="subprocess"
             label="%label.element.subprocess"
             menubarPath="additions"/>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="graph.slimNode"
          objectClass="ru.runa.gpd.lang.model.Node">
       <visibility>
          <and>
             <objectClass
                   name="ru.runa.gpd.lang.model.Fork">
             </objectClass>
             <objectClass
                   name="ru.runa.gpd.lang.model.Join">
             </objectClass>
          </and>
       </visibility>
       <action
             class="ru.runa.gpd.lang.action.RotateForkJoinDelegate"
             id="rotateFigure"
             label="%label.action.rotate"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="sendMessageNode"
          objectClass="ru.runa.gpd.lang.model.SendMessageNode">
       <action
             class="ru.runa.gpd.lang.action.SendMessageConfAction"
             id="sendMessage"
             label="%label.element.sendmessage"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="receiveMessageNode"
          objectClass="ru.runa.gpd.lang.model.ReceiveMessageNode">
       <action
             class="ru.runa.gpd.lang.action.ReceiveMessageConfAction"
             id="receiveMessage"
             label="%label.element.receivemessage"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="receiveMessageNode"
          objectClass="ru.runa.gpd.lang.model.ReceiveMessageNode">
       <filter
             name="timerExists"
             value="true">
       </filter>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.DeleteTimerDelegate"
             id="removeTimer2"
             label="%label.action.removeTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="receiveMessageNode"
          objectClass="ru.runa.gpd.lang.model.ReceiveMessageNode">
       <filter
             name="timerExists"
             value="false">
       </filter>
       <filter
             name="language"
             value="jpdl">
       </filter>
       <action
             class="ru.runa.gpd.lang.action.AddTimerDelegate"
             id="addTimer2"
             label="%label.action.addTimer"
             menubarPath="additions">
       </action>
    </objectContribution>
  </extension>
  
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="Runa WFE"
            id="ru.runa.gpd">
      </category>
      <wizard
            name="Process Definition"
            category="ru.runa.gpd"
            class="ru.runa.gpd.ui.wizard.NewProcessDefinitionWizard"
            id="wizard.new.process.definition">
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
      <wizard
            name="Process Project"
            category="ru.runa.gpd"
            class="ru.runa.gpd.ui.wizard.NewProcessProjectWizard"
            id="wizard.new.project"
            project="true" >
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
      </wizard>
   </extension>
  
   <extension
         id="lang"
         name="commons"
         point="ru.runa.gpd.elements">
      <element
      		type="connection"
            model="ru.runa.gpd.lang.model.Transition"
            jpdl="transition"
            bpmn="sequenceFlow"
            icon="transition.png"
            label="%label.element.transition">
         <gef
            figure="ru.runa.gpd.editor.gef.figure.TransitionFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.TransitionGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.TransitionTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddTransitionFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateTransitionFeature"
               fixedSize="false"
               height="1"
               update="ru.runa.gpd.editor.graphiti.update.UpdateTransitionFeature"
               width="1">
         </graphiti>
      </element>
      <element
      		type="node"
            model="ru.runa.gpd.lang.model.StartState"
            jpdl="start-state"
            bpmn="startEvent"
            icon="start.png"
            label="%label.element.startState">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.StartStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.SwimlaneNodeEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.StartStateTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddStartNodeFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateStartNodeFeature"
               fixedSize="false"
               height="7"
               update="ru.runa.gpd.editor.graphiti.update.UpdateStartNodeFeature"
               width="10">
         </graphiti>
      </element>
      <element
      		type="node"
            model="ru.runa.gpd.lang.model.TaskState"
            jpdl="task-node"
            bpmn="userTask"
            icon="state.png"
            label="%label.element.state">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.TaskStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.TaskStateGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddStateNodeFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="false"
               height="7"
               layout="ru.runa.gpd.editor.graphiti.layout.LayoutStateNodeFeature"
               update="ru.runa.gpd.editor.graphiti.update.UpdateStateNodeFeature"
               width="11">
         </graphiti>
      </element>
      <element
      		type="node"
            model="ru.runa.gpd.lang.model.MultiTaskState"
            jpdl="multi-task-node"
            icon="multitaskstate.png"
            label="%label.element.multitaskstate">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.MultiTaskStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.TaskStateGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
      </element>
      <element
      		type="node"
            model="ru.runa.gpd.lang.model.EndState"
            jpdl="end-state"
            bpmn="endEvent"
            icon="end.png"
            label="%label.element.end">
         <gef
            figure="ru.runa.gpd.editor.gef.figure.EndStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.LabeledNodeGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="true"
               height="4"
               width="4">
         </graphiti>
      </element>
      <element
            bpmn="endPoint"
            icon="endtoken.png"
            jpdl="end-token-state"
            label="%label.element.endtoken"
            model="ru.runa.gpd.lang.model.EndTokenState"
            type="node">
         <gef
            figure="ru.runa.gpd.editor.gef.figure.EndTokenStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.LabeledNodeGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="true"
               height="4"
               width="4">
         </graphiti>
      </element>
      <element
            icon="fork.png"
            jpdl="fork"
            label="%label.element.fork"
            model="ru.runa.gpd.lang.model.Fork"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.ForkJoinFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.NodeGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
      </element>
      <element
            icon="join.png"
            jpdl="join"
            label="%label.element.join"
            model="ru.runa.gpd.lang.model.Join"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.ForkJoinFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.NodeGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
      </element>
      <element
            bpmn="parallelGateway"
            icon="parallelGateway.png"
            label="%label.element.parallelGateway"
            model="ru.runa.gpd.lang.model.ParallelGateway"
            type="node">
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="true"
               height="4"
               width="4">
         </graphiti>
      </element>
      <element
            bpmn="exclusiveGateway"
            icon="decision.png"
            jpdl="decision"
            label="%label.element.decision"
            model="ru.runa.gpd.lang.model.Decision"
            type="node">
         <gef
            figure="ru.runa.gpd.editor.gef.figure.DecisionFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.DecisionGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="true"
               height="4"
               width="4">
         </graphiti>
      </element>
      <element
      		type="node"
            model="ru.runa.gpd.lang.model.ActionImpl"
            jpdl="action"
            icon="action.png"
            label="%label.element.action">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.ActionFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.ActionGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.ActionTreeEditPart">
         </gef>
      </element>
      <element
            bpmn="lane"
            jpdl="swimlane"
            label="%default.swimlane.name"
            icon="swimlane.png" 
            model="ru.runa.gpd.lang.model.Swimlane"
            type="artifact">
         <gef 
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.SwimlaneTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddSwimlaneFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateSwimlaneFeature"
               fixedSize="false"
               height="15"
               layout="ru.runa.gpd.editor.graphiti.layout.LayoutSwimlaneFeature"
               update="ru.runa.gpd.editor.graphiti.update.UpdateSwimlaneFeature"
               width="40">
         </graphiti>
      </element>
      <element
            bpmn="textAnnotation"
            label="%label.element.textAnnotation"
            icon="textAnnotation.png"
            model="ru.runa.gpd.lang.model.TextAnnotation"
            type="artifact">
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddTextAnnotationFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="false"
               height="3"
               layout="ru.runa.gpd.editor.graphiti.layout.LayoutTextAnnotationFeature"
               update="ru.runa.gpd.editor.graphiti.update.UpdateTextAnnotationFeature"
               width="8">
         </graphiti>
      </element>
      <element
      		type="artifact"
            label="%default.variable.name"
            model="ru.runa.gpd.lang.model.Variable"
            jpdl="variable">
         <gef
               treeEditPart="ru.runa.gpd.editor.gef.part.tree.VariableTreeEditPart">
         </gef>
      </element>
      <element
            bpmn="process"
            jpdl="process-definition"
            label="process definition"
            model="ru.runa.gpd.lang.model.ProcessDefinition"
            type="definition">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.GridSupportLayer"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.ProcessDefinitionGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.ProcessDefinitionTreeEditPart">
         </gef>
      </element>
      <element
            bpmn="subProcess"
            icon="subprocess.png"
            jpdl="process-state"
            label="%label.element.subprocess"
            model="ru.runa.gpd.lang.model.Subprocess"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.SubprocessFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.SubprocessGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddSubProcessFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="false"
               height="7"
               layout="ru.runa.gpd.editor.graphiti.layout.LayoutStateNodeFeature"
               update="ru.runa.gpd.editor.graphiti.update.UpdateStateNodeFeature"
               width="11">
         </graphiti>
      </element>
      <element
            bpmn="multiProcess"
            icon="multiinstance.png"
            jpdl="multiinstance-state"
            label="%label.element.multisubprocess"
            model="ru.runa.gpd.lang.model.MultiSubprocess"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.MultiSubprocessFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.MultiInstanceGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddMultiSubprocessFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               fixedSize="false"
               height="7"
               layout="ru.runa.gpd.editor.graphiti.layout.LayoutStateNodeFeature"
               update="ru.runa.gpd.editor.graphiti.update.UpdateStateNodeFeature"
               width="11">
         </graphiti>
      </element>
      <element
            bpmn="sendTask"
            icon="sendmessage.png"
            jpdl="send-message"
            label="%label.element.sendmessage"
            model="ru.runa.gpd.lang.model.SendMessageNode"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.SendMessageFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.SendMessageGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <onVariableRenamed
               provider="ru.runa.gpd.ltk.SendMessageRenameProvider">
         </onVariableRenamed>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               height="4"
               fixedSize="true"
               width="4">
         </graphiti>
      </element>
      <element
            bpmn="receiveTask"
            icon="receivemessage.png"
            jpdl="receive-message"
            label="%label.element.receivemessage"
            model="ru.runa.gpd.lang.model.ReceiveMessageNode"
            type="node">
         <gef
            figure="ru.runa.gpd.editor.gef.figure.ReceiveMessageFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.ReceiveMessageGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <onVariableRenamed
               provider="ru.runa.gpd.ltk.ReceiveMessageRenameProvider">
         </onVariableRenamed>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddNodeWithImageFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateElementFeature"
               height="4"
               fixedSize="true"
               width="4">
         </graphiti>
      </element>
      <element
      		type="deprecated"
            label="action node (deprecated)"
            model="ru.runa.gpd.lang.model.ActionNode"
            jpdl="node">
         <gef
               figure="ru.runa.gpd.editor.gef.figure.ActionNodeFigure"
               graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.ActionNodeGraphicalEditPart"
               treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
      </element>
      <element
            bpmn="timerEventDefinition"
            jpdl="wait-state"
            icon="timer.png"
            label="%label.element.timer"
            model="ru.runa.gpd.lang.model.Timer"
            type="node">
         <gef 
            figure="ru.runa.gpd.editor.gef.figure.WaitStateFigure"
            graphicalEditPart="ru.runa.gpd.editor.gef.part.graph.LabeledNodeGraphicalEditPart"
            treeEditPart="ru.runa.gpd.editor.gef.part.tree.NodeTreeEditPart">
         </gef>
         <graphiti
               add="ru.runa.gpd.editor.graphiti.add.AddTimerFeature"
               create="ru.runa.gpd.editor.graphiti.create.CreateTimerFeature"
               height="4"
               fixedSize="true"
               width="4">
         </graphiti>
      </element>
   </extension>
   
   
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            class="ru.runa.gpd.ui.wizard.ExportParWizard"
            icon="icons/process.gif"
            id="wizard.export.par"
            name="Par file">
         <selection
               class="org.eclipse.core.resources.IFile"
               name="processdefinition.xml"/>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            class="ru.runa.gpd.ui.wizard.ImportParWizard"
            icon="icons/process.gif"
            id="wizard.ImportParWizard"
            name="Import project from Par">
         <description>
            Import a file from the local file system into the workspace.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="ru.runa.gpd.PerspectiveFactory"
            fixed="false"
            id="ru.runa.gpd.perspective"
            name="%label.perspective.processDesigner"/>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="ru.runa.gpd.perspective">
         <view
               id="ru.runa.gpd.explorerView"
               ratio="0.2"
               relationship="left"
               relative="org.eclipse.ui.editorss"/>
         <view
               id="org.eclipse.ui.views.ContentOutline"
               ratio="0.8"
               relationship="right"
               relative="org.eclipse.ui.editorss"/>
         <viewShortcut id="ru.runa.gpd.explorerView"/>
         <newWizardShortcut id="wizard.new.process.definition"/>
         <newWizardShortcut id="wizard.new.project"/>
         <perspectiveShortcut id="ru.runa.gpd.perspective"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="ru.runa.gpd.view.category"
            class="ru.runa.gpd.ui.view.ExplorerTreeView"
            icon="icons/filenav_nav.gif"
            id="ru.runa.gpd.explorerView"
            name="%label.view.designerExplorer"/>
      <category
            id="ru.runa.gpd.view.category"
            name="RUNA WFE"/>
      <view
            class="ru.runa.gpd.ui.view.ValidationErrorsView"
            icon="icons/validation_error.gif"
            id="ru.runa.gpd.validationErrors"
            name="%label.view.errors"/>
      <view
            class="ru.runa.gpd.ui.view.PropertiesView"
            icon="icons/properties_view.gif"
            id="ru.runa.gpd.propertiesView"
            name="%label.view.properties"/>
   </extension>
   <extension
         point="ru.runa.gpd.orgFunctions">
      <orgfunction
            className="ru.runa.wfe.os.func.ChiefFunction"
            label="%ru.runa.wfe.os.func.ChiefFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.wfe.os.func.DemoChiefFunction"
            label="%ru.runa.wfe.os.func.DemoChiefFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.wfe.os.func.ExecutorByCodeFunction"
            label="%ru.runa.wfe.os.func.ExecutorByCodeFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.wfe.os.func.DirectorFunction"
            label="%ru.runa.wfe.os.func.DirectorFunction">
         <parameter
               name="OrgFunction.ActorCode"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.wfe.os.func.ExecutorByNameFunction"
            label="%ru.runa.wfe.os.func.ExecutorByNameFunction">
         <parameter
               name="OrgFunction.ExecutorName"
               type="string"/>
      </orgfunction>
      <orgfunction
            className="ru.runa.wfe.os.func.SQLFunction"
            label="%ru.runa.wfe.os.func.SQLFunction">
         <parameter
               name="OrgFunction.SQLQuery"
               type="string"/>
         <parameter
               multiple="true"
               name="OrgFunction.SQLQueryParameter"
               type="string"/>
      </orgfunction>
   </extension>
   <extension
         point="ru.runa.gpd.handlers">
      <handler
            cellEditorProvider="ru.runa.gpd.handler.decision.BSHDecisionProvider"
            className="ru.runa.wfe.handler.decision.BSHDecisionHandler"
            label="%ru.runa.wfe.handler.decision.BSHDecisionHandler"
            enabled="true"
            type="decisionHandler"/>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.decision.BSHDecisionProvider"
            className="ru.runa.wfe.handler.decision.GroovyDecisionHandler"
            label="%ru.runa.wfe.handler.decision.GroovyDecisionHandler"
            enabled="true"
            type="decisionHandler"/>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.SQLHandlerCellEditorProvider"
            className="ru.runa.wfe.handler.action.SQLActionHandler"
            label="%ru.runa.wfe.handler.action.SQLActionHandler"
            enabled="true"
            type="actionHandler"/>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.assign.SwimlaneInitializerProvider"
            className="ru.runa.wfe.handler.assign.DefaultAssignmentHandler"
            label="%ru.runa.wfe.handler.assign.DefaultAssignmentHandler"
            enabled="true"
            type="assignmentHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.FormulaCellEditorProvider"
            className="ru.runa.wfe.handler.action.var.FormulaActionHandler"
            label="%ru.runa.wfe.handler.action.var.FormulaActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.SwimlaneAssignerCellEditorProvider"
            className="ru.runa.wfe.handler.action.user.AssignSwimlaneActionHandler"
            label="%ru.runa.wfe.handler.action.user.AssignSwimlaneActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.ActorNameEditorProvider"
            className="ru.runa.wfe.handler.action.user.ActorNameActionHandler"
            label="%ru.runa.wfe.handler.action.user.ActorNameActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.GroovyActionHandlerProvider"
            className="ru.runa.wfe.handler.action.BSHActionHandler"
            label="%ru.runa.wfe.handler.action.BSHActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.SendEmailActionHandlerProvider"
            className="ru.runa.wfe.handler.action.SendEmailActionHandler"
            label="%ru.runa.wfe.handler.action.SendEmailActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.EscalationActionHandlerProvider"
            className="ru.runa.wfe.handler.action.EscalationActionHandler"
            label="%ru.runa.wfe.handler.action.EscalationActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.ConfigBasedProvider"
            className="ru.runa.wfe.handler.action.CreateOptionActionHandler"
            label="%ru.runa.wfe.handler.action.CreateOptionActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.ConfigBasedProvider"
            className="ru.runa.wfe.handler.action.var.RemoveObjectFromListActionHandler"
            label="%ru.runa.wfe.handler.action.var.RemoveObjectFromListActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.ConfigBasedProvider"
            className="ru.runa.wfe.handler.action.var.AddObjectToListActionHandler"
            label="%ru.runa.wfe.handler.action.var.AddObjectToListActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.ConfigBasedProvider"
            className="ru.runa.wfe.handler.action.var.SortListActionHandler"
            label="%ru.runa.wfe.handler.action.var.SortListActionHandler"
            enabled="true"
            type="actionHandler">
      </handler>
      <handler
            className="ru.runa.service.bot.handler.BotInvokerActionHandler"
            label="%ru.runa.service.bot.handler.BotInvokerActionHandler"
            enabled="true"
            type="actionHandler"/>
      <handler
            cellEditorProvider="ru.runa.gpd.handler.action.GroovyActionHandlerProvider"
            className="ru.runa.wfe.handler.action.GroovyActionHandler"
            label="%ru.runa.wfe.handler.action.GroovyActionHandler"
            enabled="true"
            type="actionHandler"/>
      <handler
            className="ru.runa.wfe.handler.action.DebugActionHandler"
            label="%ru.runa.wfe.handler.action.DebugActionHandler"
            enabled="true"
            type="actionHandler"/>
      <handler
            className="ru.runa.wfe.handler.action.EmailTaskNotifierActionHandler"
            label="%ru.runa.wfe.handler.action.EmailTaskNotifierActionHandler"
            enabled="true"
            type="actionHandler"/>
   </extension>
   <extension
         point="ru.runa.gpd.swimlaneElements">
      <element
            className="ru.runa.gpd.orgfunction.SwimlaneRelationsElement"
            name="SwimlaneElement.RelationLabel">
      </element>
      <element
            className="ru.runa.gpd.orgfunction.SwimlaneGroupElement"
            name="SwimlaneElement.OrgFunctionsGroupLabel">
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneGeneralElement"
               name="SwimlaneElement.ChiefFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ru.runa.wfe.os.func.ChiefFunction">
            </param>
         </element>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneGeneralElement"
               name="SwimlaneElement.DirectorFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ru.runa.wfe.os.func.DirectorFunction">
            </param>
         </element>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneGeneralElement"
               name="SwimlaneElement.DemoChiefFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ru.runa.wfe.os.func.DemoChiefFunction">
            </param>
         </element>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneGeneralElement"
               name="SwimlaneElement.ExecutorByNameFunctionLabel">
            <param
                  name="orgFunctionDefinitionName"
                  value="ru.runa.wfe.os.func.ExecutorByNameFunction">
            </param>
         </element>
      </element>
      <element
            className="ru.runa.gpd.orgfunction.SwimlaneWFGroupElement"
            name="SwimlaneElement.WFFunctionsGroupLabel">
         <param
               name="description"
               value="SwimlaneElement.WFFunctionsGroupDescription">
         </param>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneWFElement"
               name="SwimlaneElement.WFUsersLabel">
            <param
                  name="mask"
                  value="1">
            </param>
         </element>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneWFElement"
               name="SwimlaneElement.WFGroupsLabel">
            <param
                  name="mask"
                  value="2">
            </param>
         </element>
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneWFElement"
               name="SwimlaneElement.WFUsersGroupsLabel">
            <param
                  name="mask"
                  value="3">
            </param>
         </element>
      </element>
      <element
            className="ru.runa.gpd.orgfunction.SwimlaneGroupElement"
            name="SwimlaneElement.CustomFunctionsGroupLabel">
         <element
               className="ru.runa.gpd.orgfunction.SwimlaneADElement"
               name="SwimlaneElement.ADExecutorsLabel">
         </element>
      </element>
      <element
            className="ru.runa.gpd.orgfunction.SwimlaneManualElement"
            name="SwimlaneElement.ManualLabel">
      </element>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="copy"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+C">
      </key>
      <key
            commandId="paste"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+V">
      </key>
      <key
            commandId="selectAll"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+A">
      </key>
      <key
            commandId="redo"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+Y">
      </key>
      <key
            commandId="undo"
            contextId="gefEditor.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+Z">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="copy"
            name="copy">
      </command>
      <command
            id="paste"
            name="paste">
      </command>
      <command
            id="selectAll"
            name="selectAll">
      </command>
      <command
            id="undo"
            name="undo">
      </command>
      <command
            id="redo"
            name="redo">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="gefEditor.context"
            name="gefEditor.context"
            parentId="org.eclipse.ui.contexts.window">
      </context>
   </extension>
   	<extension
    	id="FileSearchPage"
        point="org.eclipse.search.searchResultViewPages">
		<viewPage
			id="editor.GPDSearchResultPage"
			searchResultClass="ru.runa.gpd.search.GPDSearchResult"
			class="ru.runa.gpd.search.GPDSearchPage">
		</viewPage>
	</extension>
    <extension
          point="ru.runa.gpd.validators">
       <validator
             description="%validator.required.desc"
             label="%validator.required.name"
             name="required">
       </validator>
       <validator
             applicable="long,double"
             description="%validator.number.desc"
             label="%validator.number.name"
             name="number">
          <param
                label="%validator.number.param.min"
                name="min"
                type="number">
          </param>
          <param
                label="%validator.number.param.max"
                name="max"
                type="number">
          </param>
          <param
                label="%validator.number.param.inclusive"
                name="inclusive"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.date.desc"
             label="%validator.date.name"
             name="date">
          <param
                label="%validator.date.param.min"
                name="min"
                type="date">
          </param>
          <param
                label="%validator.date.param.max"
                name="max"
                type="date">
          </param>
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateInThisMonth.desc"
             label="%validator.dateInThisMonth.name"
             name="dateInThisMonth">
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateInThisYear.desc"
             label="%validator.dateInThisYear.name"
             name="dateInThisYear">
       </validator>
       <validator
             applicable="date,datetime"
             description="%validator.dateRelativeToCurrent.desc"
             label="%validator.dateRelativeToCurrent.name"
             name="dateRelativeToCurrent">
          <param
                label="%validator.dateRelativeToCurrent.param.min"
                name="min"
                type="number">
          </param>
          <param
                label="%validator.dateRelativeToCurrent.param.max"
                name="max"
                type="number">
          </param>
       </validator>
       <validator
             applicable="string"
             description="%validator.email.desc"
             label="%validator.email.name"
             name="email">
       </validator>
       <validator
             applicable="string"
             description="%validator.url.desc"
             label="%validator.url.name"
             name="url">
       </validator>
       <validator
             applicable="string"
             description="%validator.stringlength.desc"
             label="%validator.stringlength.name"
             name="stringlength">
          <param
                label="%validator.stringlength.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                label="%validator.stringlength.param.maxLength"
                name="maxLength"
                type="number">
          </param>
          <param
                label="%validator.stringlength.param.doTrim"
                name="doTrim"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="string"
             description="%validator.regex.desc"
             label="%validator.regex.name"
             name="regex">
          <param
                label="%validator.regex.param.expression"
                name="expression"
                type="string">
          </param>
          <param
                label="%validator.regex.param.caseSensitive"
                name="caseSensitive"
                type="boolean">
          </param>
          <param
                label="%validator.regex.param.trim"
                name="trim"
                type="boolean">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileSize.desc"
             label="%validator.fileSize.name"
             name="fileSize">
          <param
                label="%validator.fileSize.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                label="%validator.fileSize.param.maxLength"
                name="maxLength"
                type="number">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileContentType.desc"
             label="%validator.fileContentType.name"
             name="fileContentType">
          <param
                label="%validator.fileContentType.param.contentType"
                name="contentType"
                type="string">
          </param>
       </validator>
       <validator
             applicable="file"
             description="%validator.fileExtension.desc"
             label="%validator.fileExtension.name"
             name="fileExtension">
          <param
                label="%validator.fileExtension.param.extension"
                name="extension"
                type="string">
          </param>
       </validator>
       <validator
             applicable="time"
             description="%validator.time.desc"
             label="%validator.time.name"
             name="time">
          <param
                label="%validator.time.param.min"
                name="min"
                type="time">
          </param>
          <param
                label="%validator.time.param.max"
                name="max"
                type="time">
          </param>
       </validator>
       <validator
             applicable="stringArray"
             description="%validator.arraySize.desc"
             label="%validator.arraySize.name"
             name="arraySize">
          <param
                label="%validator.arraySize.param.minLength"
                name="minLength"
                type="number">
          </param>
          <param
                label="%validator.arraySize.param.maxLength"
                name="maxLength"
                type="number">
          </param>
       </validator>
    </extension>
    <extension
          point="org.eclipse.core.runtime.preferences">
       <initializer
             class="ru.runa.gpd.settings.PreferenceInitializer">
       </initializer>
    </extension>
    <extension
          point="org.eclipse.ui.preferencePages">
       <page
             class="ru.runa.gpd.settings.FormPreferencePage"
             id="gpd.pref.form"
             name="%pref.form">
       </page>
       <page
			 class="ru.runa.gpd.settings.EmptyPreferencePage"
             id="gpd.pref.task.escalation"
             name="%pref.task.escalation">
       </page>
       <page
             category="gpd.pref.task.escalation"
             class="ru.runa.gpd.settings.EscalationGlobalPreferencePage"
             id="gpd.pref.task.escalation.global"
             name="%pref.task.escalation.global">
       </page>
       <page
             class="ru.runa.gpd.settings.EmptyPreferencePage"
             id="gpd.pref.connection"
             name="%pref.connection">
       </page>
       <page
             category="gpd.pref.connection"
             class="ru.runa.gpd.settings.WFEConnectionPreferencePage"
             id="gpd.pref.connection.wfe"
             name="%pref.connection.wfe">
       </page>
       <page
             category="gpd.pref.connection"
             class="ru.runa.gpd.settings.LDAPConnectionPreferencePage"
             id="gpd.pref.connection.ldap"
             name="%pref.connection.ldap">
       </page>
       <page
			 class="ru.runa.gpd.settings.EmptyPreferencePage"
             id="gpd.pref.artifacts"
             name="%pref.artifacts">
       </page>
       <page
             category="gpd.pref.artifacts"
             class="ru.runa.gpd.settings.LocalizationPreferencePage"
             id="gpd.pref.artifacts.localization"
             name="%pref.artifacts.localization">
       </page>
    </extension>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypes">
      <diagramType
            description="The BPMN diagram for the process"
            id="ru.runa.wfe.GraphitiType"
            name="BPMN diagram type"
            type="BPMNdiagram">
      </diagramType>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypeProviders">
      <diagramTypeProvider
            class="ru.runa.gpd.editor.graphiti.DiagramTypeProvider"
            id="ru.runa.wfe.GraphitiTypeProvider"
            name="BPMN editor">
         <diagramType
               id="ru.runa.wfe.GraphitiType">
         </diagramType>
         <imageProvider
               id="ru.runa.gpd.editor.graphiti.DiagramImageProvider">
         </imageProvider>
      </diagramTypeProvider>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.imageProviders">
      <imageProvider
            class="ru.runa.gpd.editor.graphiti.DiagramImageProvider"
            id="ru.runa.gpd.editor.graphiti.DiagramImageProvider">
      </imageProvider>
   </extension>
   
   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="ru.runa.gpd.Application">
         </run>
      </application>
   </extension>

   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="ru.runa.gpd.actionSet"
            label="%label.menu"
            visible="true">
         <menu
               id="file"
               label="%label.menu.file"
               >
            <separator name="common"/>
            <groupMarker name="group"/>
            <separator name="saves"/>
            <groupMarker name="group"/>
            <separator name="export"/>
            <groupMarker name="group"/>
            <separator name="exit"/>
         </menu>
         <menu
               id="newFile"
               label="%label.menu.newFile"
               path="file/common">
            <separator name="common"/>
            <separator name="additions"/>
         </menu>
         
         <action
               class="ru.runa.gpd.ui.action.NewProcessAction"
               definitionId="ru.runa.gpd.commands.new"
               icon="icons/process16.gif"
               id="ru.runa.gpd.newProcess"
               label="%label.menu.newProcess"
               menubarPath="file/newFile/common"
               style="push"
               toolbarPath="normal/processes"
               tooltip="%tooltip.menu.newProcess"/>
         <action
               class="ru.runa.gpd.ui.action.NewProjectAction"
               icon="icons/new_project16x16.gif"
               id="ru.runa.gpd.newProject"
               label="%label.menu.newProject"
               menubarPath="file/newFile/common"
               style="push"
               toolbarPath="normal/processes"
               tooltip="%tooltip.menu.newProject"/>
         <action
               class="ru.runa.gpd.ui.action.DeleteAction"
               definitionId="ru.runa.gpd.commands.delete"
               icon="icons/delete_edit.gif"
               id="ru.runa.gpd.delete"
               label="%label.menu.delete"
               menubarPath="file/saves"
               style="push"
               toolbarPath="normal/common"
               tooltip="%tooltip.menu.delete"/>
         <action
               class="ru.runa.gpd.ui.action.SaveAll"
               definitionId="ru.runa.gpd.commands.saveall"
               icon="icons/saveall_edit.gif"
               id="ru.runa.gpd.saveAll"
               label="%label.menu.saveAll"
               menubarPath="file/saves"
               style="push"
               toolbarPath="normal/save"
               tooltip="%tooltip.menu.saveAll"/>
         <action
               class="ru.runa.gpd.ui.action.Save"
               definitionId="ru.runa.gpd.commands.save"
               disabledIcon="icons/save_edit_d.gif"
               icon="icons/save_edit.gif"
               id="ru.runa.gpd.save"
               label="%label.menu.save"
               menubarPath="file/saves"
               style="push"
               toolbarPath="normal/save"
               tooltip="%tooltip.menu.save">
         </action>
         <action
               class="ru.runa.gpd.ui.action.ExportAction"
               icon="icons/export_wiz.gif"
               id="ru.runa.gpd.export"
               label="%label.menu.export"
               menubarPath="file/export"
               style="push"
               toolbarPath="normal/save"
               tooltip="%tooltip.menu.export"/>
         <action
               class="ru.runa.gpd.ui.action.ImportAction"
               icon="icons/import_wiz.gif"
               id="ru.runa.gpd.import"
               label="%label.menu.import"
               menubarPath="file/export"
               style="push"
               toolbarPath="normal/save"/>
         <action
               class="ru.runa.gpd.ui.action.ExitAction"
               id="ru.runa.gpd.exit"
               label="%label.menu.exit"
               menubarPath="file/exit"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.EnableAntialiasingAction"
               id="enableAntialiasing"
               label="%label.menu.properties.antialiasing"
               menubarPath="view/additions"
               style="toggle">
         </action>
         <menu
               id="view"
               label="%label.menu.view"
               path="file">
            <separator
                  name="additions">
            </separator>
         </menu>
         <menu
               id="properties"
               label="%label.menu.properties"
               path="view">
            <separator name="additions"/>
         </menu>
         <action
               class="ru.runa.gpd.ui.action.ShowActionsAction"
               id="enableActionsInGraph"
               label="%label.menu.properties.enableActionsInGraph"
               menubarPath="view/additions"
               style="toggle"/>
         <menu
               id="window"
               label="%label.menu.window"
               path="properties">
            <separator name="additions"/>
         </menu>
         <action
               class="ru.runa.gpd.ui.action.OpenProperties"
               icon="icons/prop_ps.gif"
               id="openProperties"
               label="%label.menu.view.properties"
               menubarPath="window/additions"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.OpenPreferencesAction"
               id="preferences"
               label="%label.menu.preferences"
               menubarPath="properties/additions"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.OpenOutline"
               icon="icons/outline_co.gif"
               id="openOutline"
               label="%label.menu.view.outline"
               menubarPath="window/additions"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.OpenExplorer"
               icon="icons/filenav_nav.gif"
               id="openExplorer"
               label="%label.menu.view.explorer"
               menubarPath="window/additions"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.OpenValidationErrorsView"
               icon="icons/validation_error.gif"
               id="openValidationErrorsView"
               label="%label.menu.view.validationErrors"
               menubarPath="window/additions"
               style="push">
         </action>
         <action
               class="ru.runa.gpd.ui.action.OpenErrorLogView"
               icon="icons/error_log.gif"
               id="openLogView"
               label="%label.menu.view.errorLog"
               menubarPath="window/additions"
               style="push">
         </action>
         <menu
               id="help"
               label="%label.menu.help"
               path="window">
            <separator name="additions"/>
         </menu>
         <action
               class="ru.runa.gpd.ui.action.HelpAboutAction"
               id="helpAbout"
               label="%label.menu.helpAbout"
               menubarPath="help/additions"
               style="push"/>
         <action
               class="ru.runa.gpd.ui.action.ShowGridAction"
               id="enableGrid"
               label="%label.menu.properties.enableGrid"
               menubarPath="view/additions"
               style="toggle"/>
      </actionSet>
   </extension>

   <extension
         point="org.eclipse.ui.activities">
      <activity
            id="ru.runa.gpd.search"
            name="search activity"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*search.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*run.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*debug.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*team.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*compare.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*replace.*"/>
      <activityPatternBinding
            activityId="ru.runa.gpd.search"
            pattern="org.eclipse.*/.*goto.*"/>
   </extension>
   
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="ru.runa.gpd.perspective">
         <actionSet id="ru.runa.gpd.actionSet"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="ru.runa.gpd.commands.new"
            contextId="ru.runa.gpd.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+N">
      </key>
      <key
            commandId="ru.runa.gpd.commands.save"
            contextId="ru.runa.gpd.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+S">
      </key>
      <key
            commandId="ru.runa.gpd.commands.saveall"
            contextId="ru.runa.gpd.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+Shift+S">
      </key>
      <key
            commandId="ru.runa.gpd.commands.delete"
            contextId="ru.runa.gpd.context"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Delete">
      </key>
      <scheme
            id="ru.runa.gpd.scheme"
            name="runa"
            parentId="org.eclipse.ui.defaultAcceleratorConfiguration">
      </scheme>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="ru.runa.gpd.commands.new"
            name="ru.runa.gpd.commands.new">
      </command>
      <command
            id="ru.runa.gpd.commands.save"
            name="ru.runa.gpd.commands.save">
      </command>
      <command
            id="ru.runa.gpd.commands.saveall"
            name="ru.runa.gpd.commands.saveall">
      </command>
      <command
            id="ru.runa.gpd.commands.delete"
            name="ru.runa.gpd.commands.delete">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            id="ru.runa.gpd.context"
            name="runa"
            parentId="org.eclipse.ui.contexts.window">
      </context>
   </extension>
   <extension
         point="ru.runa.gpd.formats">
      <format
            className="ru.runa.wfe.var.format.ListFormat"
            label="%ru.runa.wfe.var.format.ListFormat"
            enabled="true"
            variableClassName="java.util.List">
      </format>
      <format
            className="ru.runa.wfe.var.format.BigDecimalFormat"
            label="%ru.runa.wfe.var.format.BigDecimalFormat"
            enabled="false"
            variableClassName="java.math.BigDecimal">
      </format>
      <format
            className="ru.runa.wfe.var.format.BooleanFormat"
            label="%ru.runa.wfe.var.format.BooleanFormat"
            enabled="true"
            variableClassName="java.lang.Boolean">
      </format>
      <format
            className="ru.runa.wfe.var.format.DateFormat"
            label="%ru.runa.wfe.var.format.DateFormat"
            enabled="true"
            variableClassName="java.util.Date">
      </format>
      <format
            className="ru.runa.wfe.var.format.DateTimeFormat"
            label="%ru.runa.wfe.var.format.DateTimeFormat"
            enabled="true"
            variableClassName="java.util.Date">
      </format>
      <format
            className="ru.runa.wfe.var.format.DoubleFormat"
            label="%ru.runa.wfe.var.format.DoubleFormat"
            enabled="true"
            variableClassName="java.lang.Double">
      </format>
      <format
            className="ru.runa.wfe.var.format.ExecutorFormat"
            label="%ru.runa.wfe.var.format.ExecutorFormat"
            enabled="true"
            variableClassName="ru.runa.wfe.user.Executor">
      </format>
      <format
            className="ru.runa.wfe.var.format.FileFormat"
            label="%ru.runa.wfe.var.format.FileFormat"
            enabled="true"
            variableClassName="ru.runa.wfe.var.FileVariable">
      </format>
      <format
            className="ru.runa.wfe.var.format.LongFormat"
            label="%ru.runa.wfe.var.format.LongFormat"
            enabled="true"
            variableClassName="java.lang.Long">
      </format>
      <format
            className="ru.runa.wfe.var.format.StringFormat"
            label="%ru.runa.wfe.var.format.StringFormat"
            enabled="true"
            variableClassName="java.lang.String">
      </format>
      <format
            className="ru.runa.wfe.var.format.TimeFormat"
            label="%ru.runa.wfe.var.format.TimeFormat"
            enabled="true"
            variableClassName="java.util.Date">
      </format>
      <format
            className="ru.runa.wfe.var.format.TextFormat"
            label="%ru.runa.wfe.var.format.TextFormat"
            enabled="true"
            variableClassName="java.lang.String">
      </format>
   </extension>


</plugin>
