2013-06-24 22:38:05,956 DEBUG [ru.runa.wfe.service.impl.AuthenticationServiceBean] Authenticating (login) attila
2013-06-24 22:38:05,959 DEBUG [ru.runa.wfe.security.logic.AuthenticationLogic] attila successfully authenticated
2013-06-24 22:38:05,960 DEBUG [ru.runa.wfe.service.impl.AuthenticationServiceBean] Authenticated (login): Actor{id=10, name=attila, code=-5}
2013-06-24 22:38:18,991 DEBUG [ru.runa.wf.web.FormUtils] Submitted: {reason=utyu, since=Mon Jun 24 00:00:00 EEST 2013, comment=tyutyutyuty, till=Fri Jun 28 00:00:00 EEST 2013}
2013-06-24 22:38:19,008 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: GroovyExpressionValidator{config=ValidatorConfig{type=expression, params={expression=till.getTime() > since.getTime()}}}
2013-06-24 22:38:19,040 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: StringLengthFieldValidator{config=ValidatorConfig{type=stringlength, params={maxLength=100, fieldName=reason}}}
2013-06-24 22:38:19,041 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: RequiredFieldValidator{config=ValidatorConfig{type=required, params={fieldName=reason}}}
2013-06-24 22:38:19,041 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: RequiredFieldValidator{config=ValidatorConfig{type=required, params={fieldName=since}}}
2013-06-24 22:38:19,041 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: StringLengthFieldValidator{config=ValidatorConfig{type=stringlength, params={maxLength=255, fieldName=comment}}}
2013-06-24 22:38:19,041 DEBUG [ru.runa.wfe.validation.ValidatorManager] Running validator: RequiredFieldValidator{config=ValidatorConfig{type=required, params={fieldName=till}}}
2013-06-24 22:38:19,058 DEBUG [ru.runa.wfe.var.VariableCreator] create variable 'reason' in 'ExecutionContext{token=Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}}' with value 'utyu'
2013-06-24 22:38:19,067 DEBUG [ru.runa.wfe.var.VariableCreator] create variable 'since' in 'ExecutionContext{token=Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}}' with value 'Mon Jun 24 00:00:00 EEST 2013'
2013-06-24 22:38:19,077 DEBUG [ru.runa.wfe.var.VariableCreator] create variable 'comment' in 'ExecutionContext{token=Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}}' with value 'tyutyutyuty'
2013-06-24 22:38:19,084 DEBUG [ru.runa.wfe.var.VariableCreator] create variable 'till' in 'ExecutionContext{token=Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}}' with value 'Fri Jun 28 00:00:00 EEST 2013'
2013-06-24 22:38:19,089 DEBUG [ru.runa.wfe.execution.Swimlane] assigning swimlane 'requester' to 'Actor{id=10, name=attila, code=-5}'
2013-06-24 22:38:19,092 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On CREATE: Swimlane{name=requester, value=Actor{id=10, name=attila, code=-5}}
2013-06-24 22:38:19,098 DEBUG [ru.runa.wfe.commons.dao.CommonDAO] permissions not granted for priveleged executor
2013-06-24 22:38:19,108 DEBUG [ru.runa.wfe.commons.dao.CommonDAO] permissions not granted for priveleged executor
2013-06-24 22:38:19,115 DEBUG [wfelang] event 'process-start' on 'Deployment{id=13, name=Vacation, version=2}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,115 DEBUG [wfelang] event 'node-leave' on 'StartState{id=ID1, name=Request for a vacation}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,115 DEBUG [wfelang] event 'node-leave' on 'Deployment{id=13, name=Vacation, version=2}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,121 DEBUG [wfelang] event 'transition' on 'Transition{id=ID1/tr1, name=tr1}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,121 DEBUG [wfelang] event 'transition' on 'StartState{id=ID1, name=Request for a vacation}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,121 DEBUG [wfelang] event 'transition' on 'Deployment{id=13, name=Vacation, version=2}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,121 DEBUG [wfelang] event 'node-enter' on 'TaskNode{id=ID2, name=Evaluate a request}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,121 DEBUG [wfelang] event 'node-enter' on 'Deployment{id=13, name=Vacation, version=2}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,126 DEBUG [wfelang] event 'task-create' on 'TaskDefinition{id=ID2, name=Evaluate a request}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,127 DEBUG [wfelang] event 'task-create' on 'TaskNode{id=ID2, name=Evaluate a request}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,127 DEBUG [wfelang] event 'task-create' on 'Deployment{id=13, name=Vacation, version=2}' for 'Token{process=Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11}, name=}'
2013-06-24 22:38:19,127 DEBUG [ru.runa.wfe.execution.Process] assign Swimlane{name=boss, value=null}
2013-06-24 22:38:19,129 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On CREATE: Swimlane{name=boss, value=null}
2013-06-24 22:38:19,134 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On CREATE: Task{id=null, name=Evaluate a request, assignedTo=null}
2013-06-24 22:38:19,199 ERROR [ru.runa.wfe.task.TaskFactory] Unable to assign in process id = 11
ru.runa.wfe.InternalApplicationException: SwimlaneDefinition{id=boss, name=boss}
    at ru.runa.wfe.execution.Process.getInitializedSwimlaneNotNull(Process.java:227)
    at ru.runa.wfe.task.TaskFactory.assign(TaskFactory.java:74)
    at ru.runa.wfe.lang.TaskNode.execute(TaskNode.java:45)
    at ru.runa.wfe.lang.Node.enter(Node.java:159)
    at ru.runa.wfe.lang.Transition.take(Transition.java:93)
    at ru.runa.wfe.lang.Node.leave(Node.java:191)
    at ru.runa.wfe.execution.ProcessFactory.startProcessInternal(ProcessFactory.java:166)
    at ru.runa.wfe.execution.ProcessFactory.startProcess(ProcessFactory.java:77)
    at ru.runa.wfe.execution.logic.ExecutionLogic.startProcess(ExecutionLogic.java:175)
    at ru.runa.wfe.service.impl.ExecutionServiceBean.startProcess(ExecutionServiceBean.java:87)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.invokeWithRetry(EjbTransactionSupport.java:79)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.process(EjbTransactionSupport.java:44)
    at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.PerformanceObserver.process(PerformanceObserver.java:15)
    at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.EjbExceptionSupport.process(EjbExceptionSupport.java:42)
    at sun.reflect.GeneratedMethodAccessor168.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.tx.BMTInterceptor.handleStateless(BMTInterceptor.java:71)
    at org.jboss.ejb3.tx.BMTInterceptor.invoke(BMTInterceptor.java:131)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)
    at org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:240)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:210)
    at org.jboss.ejb3.stateless.StatelessLocalProxy.invoke(StatelessLocalProxy.java:84)
    at com.sun.proxy.$Proxy100.startProcess(Unknown Source)
    at ru.runa.wfe.service.delegate.ExecutionServiceDelegate.startProcess(ExecutionServiceDelegate.java:53)
    at ru.runa.wf.web.action.SubmitStartProcessFormAction.executeProcessFromAction(SubmitStartProcessFormAction.java:69)
    at ru.runa.wf.web.action.BaseProcessFormAction.execute(BaseProcessFormAction.java:55)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    at ru.runa.common.web.UTF8RequestProcessor.process(UTF8RequestProcessor.java:41)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.XSSFilter.doFilter(XSSFilter.java:18)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.HTTPSessionFilter.doFilter(HTTPSessionFilter.java:49)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.af.web.filter.NTLMFilter.doFilter(NTLMFilter.java:54)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:179)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)
    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)
    at java.lang.Thread.run(Thread.java:722)
Caused by: ru.runa.wfe.user.ExecutorDoesNotExistException: Executor nero of class ru.runa.wfe.user.Actor does not exists
    at ru.runa.wfe.user.dao.ExecutorDAO.checkExecutorNotNull(ExecutorDAO.java:869)
    at ru.runa.wfe.user.dao.ExecutorDAO.getExecutor(ExecutorDAO.java:845)
    at ru.runa.wfe.user.dao.ExecutorDAO.getActor(ExecutorDAO.java:127)
    at ru.runa.wfe.extension.orgfunction.DemoChiefFunction.getActorCodes(DemoChiefFunction.java:57)
    at ru.runa.wfe.extension.orgfunction.ActorOrgFunctionBase.getActorCodes(ActorOrgFunctionBase.java:16)
    at ru.runa.wfe.extension.orgfunction.GetActorsOrgFunctionBase.getExecutors(GetActorsOrgFunctionBase.java:36)
    at ru.runa.wfe.extension.orgfunction.OrgFunctionHelper.evaluateOrgFunction(OrgFunctionHelper.java:80)
    at ru.runa.wfe.extension.assign.DefaultAssignmentHandler.assign(DefaultAssignmentHandler.java:46)
    at ru.runa.wfe.execution.Process.getInitializedSwimlaneNotNull(Process.java:225)
    ... 99 more
2013-06-24 22:38:19,203 INFO [ru.runa.wfe.execution.logic.ExecutionLogic] Process Process{definition=Deployment{id=13, name=Vacation, version=2}, id=11} was successfully started
2013-06-24 22:38:35,639 DEBUG [ru.runa.wfe.job.impl.ExpiredJobCheckerTask] Expired jobs: 0
2013-06-24 22:38:47,593 DEBUG [ru.runa.wfe.service.impl.AuthenticationServiceBean] Authenticating (login) Administrator
2013-06-24 22:38:47,597 DEBUG [ru.runa.wfe.security.logic.AuthenticationLogic] Administrator successfully authenticated
2013-06-24 22:38:47,598 DEBUG [ru.runa.wfe.service.impl.AuthenticationServiceBean] Authenticated (login): Actor{id=1, name=Administrator, code=-1}
2013-06-24 22:39:35,637 DEBUG [ru.runa.wfe.job.impl.ExpiredJobCheckerTask] Expired jobs: 0
2013-06-24 22:40:12,355 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=11, name=staff}, executor=Actor{id=8, name=marcus, code=-3}}
2013-06-24 22:40:12,355 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=11, name=staff}, executor=Actor{id=8, name=marcus, code=-3}}
2013-06-24 22:40:12,355 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=12, name=all}, executor=Actor{id=8, name=marcus, code=-3}}
2013-06-24 22:40:12,356 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=12, name=all}, executor=Actor{id=8, name=marcus, code=-3}}
2013-06-24 22:40:12,356 INFO [ru.runa.wfe.user.cache.ExecutorCacheCtrl] Cache is uninitialized. Due to DELETE of ExecutorGroupMembership{group=Group{id=12, name=all}, executor=Actor{id=8, name=marcus, code=-3}}
2013-06-24 22:40:12,358 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: Actor{id=8, name=marcus, code=-3}
2013-06-24 22:40:12,358 DEBUG [ru.runa.wfe.ss.cache.SubstitutionCacheCtrl] On DELETE: Actor{id=8, name=marcus, code=-3}
2013-06-24 22:40:12,358 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: Actor{id=8, name=marcus, code=-3}
2013-06-24 22:40:12,388 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=11, name=staff}, executor=Actor{id=9, name=Gaiua, code=-4}}
2013-06-24 22:40:12,388 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=11, name=staff}, executor=Actor{id=9, name=Gaiua, code=-4}}
2013-06-24 22:40:12,388 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=12, name=all}, executor=Actor{id=9, name=Gaiua, code=-4}}
2013-06-24 22:40:12,388 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: ExecutorGroupMembership{group=Group{id=12, name=all}, executor=Actor{id=9, name=Gaiua, code=-4}}
2013-06-24 22:40:12,390 DEBUG [ru.runa.wfe.task.cache.TaskCacheCtrl] On DELETE: Actor{id=9, name=Gaiua, code=-4}
2013-06-24 22:40:12,391 DEBUG [ru.runa.wfe.ss.cache.SubstitutionCacheCtrl] On DELETE: Actor{id=9, name=Gaiua, code=-4}
2013-06-24 22:40:12,391 DEBUG [ru.runa.wfe.user.cache.ExecutorCacheCtrl] On DELETE: Actor{id=9, name=Gaiua, code=-4}
2013-06-24 22:40:12,444 WARN [org.hibernate.util.JDBCExceptionReporter] SQL Error: -8, SQLState: 23000
2013-06-24 22:40:12,445 ERROR [org.hibernate.util.JDBCExceptionReporter] Integrity constraint violation FK_SWIMLANE_EXECUTOR table: BPM_SWIMLANE in statement [/* delete ru.runa.wfe.user.Actor */ delete from EXECUTOR where ID=? and VERSION=?]
2013-06-24 22:40:12,446 ERROR [org.hibernate.event.def.AbstractFlushingEventListener] Could not synchronize database state with session
org.hibernate.exception.ConstraintViolationException: could not delete: [ru.runa.wfe.user.Actor#9]
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:71)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2541)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2697)
    at org.hibernate.action.EntityDeleteAction.execute(EntityDeleteAction.java:74)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:234)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:146)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:298)
    at org.hibernate.event.def.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:41)
    at org.hibernate.impl.SessionImpl.autoFlushIfRequired(SessionImpl.java:969)
    at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1114)
    at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:921)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:1)
    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)
    at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:912)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:908)
    at ru.runa.wfe.user.dao.ExecutorDAO.getExecutorMemberships(ExecutorDAO.java:583)
    at ru.runa.wfe.user.dao.ExecutorDAO.remove(ExecutorDAO.java:646)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:141)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:127)
    at ru.runa.wfe.service.impl.ExecutorServiceBean.remove(ExecutorServiceBean.java:102)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.invokeWithRetry(EjbTransactionSupport.java:79)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.process(EjbTransactionSupport.java:44)
    at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.PerformanceObserver.process(PerformanceObserver.java:15)
    at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.EjbExceptionSupport.process(EjbExceptionSupport.java:42)
    at sun.reflect.GeneratedMethodAccessor168.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.tx.BMTInterceptor.handleStateless(BMTInterceptor.java:71)
    at org.jboss.ejb3.tx.BMTInterceptor.invoke(BMTInterceptor.java:131)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)
    at org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:240)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:210)
    at org.jboss.ejb3.stateless.StatelessLocalProxy.invoke(StatelessLocalProxy.java:84)
    at com.sun.proxy.$Proxy104.remove(Unknown Source)
    at ru.runa.wfe.service.delegate.ExecutorServiceDelegate.remove(ExecutorServiceDelegate.java:49)
    at ru.runa.af.web.action.RemoveExecutorsAction.execute(RemoveExecutorsAction.java:52)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    at ru.runa.common.web.UTF8RequestProcessor.process(UTF8RequestProcessor.java:41)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.XSSFilter.doFilter(XSSFilter.java:18)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.HTTPSessionFilter.doFilter(HTTPSessionFilter.java:49)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.af.web.filter.NTLMFilter.doFilter(NTLMFilter.java:54)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:179)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)
    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.sql.SQLException: Integrity constraint violation FK_SWIMLANE_EXECUTOR table: BPM_SWIMLANE in statement [/* delete ru.runa.wfe.user.Actor */ delete from EXECUTOR where ID=? and VERSION=?]
    at org.hsqldb.jdbc.Util.throwError(Unknown Source)
    at org.hsqldb.jdbc.jdbcPreparedStatement.executeUpdate(Unknown Source)
    at org.jboss.resource.adapter.jdbc.CachedPreparedStatement.executeUpdate(CachedPreparedStatement.java:95)
    at org.jboss.resource.adapter.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:365)
    at sun.reflect.GeneratedMethodAccessor202.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:385)
    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:130)
    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:271)
    at com.sun.proxy.$Proxy206.executeUpdate(Unknown Source)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2523)
    ... 110 more
2013-06-24 22:40:12,460 ERROR [ru.runa.wfe.service.interceptors.EjbExceptionSupport] ejb call error: ru.runa.wfe.service.impl.ExecutorServiceBean.remove(Actor{id=1, name=Administrator, code=-1}, [8, 9, 10, 11, 12, 14, 15])
org.springframework.dao.DataIntegrityViolationException: could not delete: [ru.runa.wfe.user.Actor#9]; SQL [/* delete ru.runa.wfe.user.Actor */ delete from EXECUTOR where ID=? and VERSION=?]; constraint [FK_SWIMLANE_EXECUTOR]; nested exception is org.hibernate.exception.ConstraintViolationException: could not delete: [ru.runa.wfe.user.Actor#9]
    at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:643)
    at org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)
    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)
    at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:912)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:908)
    at ru.runa.wfe.user.dao.ExecutorDAO.getExecutorMemberships(ExecutorDAO.java:583)
    at ru.runa.wfe.user.dao.ExecutorDAO.remove(ExecutorDAO.java:646)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:141)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:127)
    at ru.runa.wfe.service.impl.ExecutorServiceBean.remove(ExecutorServiceBean.java:102)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.invokeWithRetry(EjbTransactionSupport.java:79)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.process(EjbTransactionSupport.java:44)
    at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.PerformanceObserver.process(PerformanceObserver.java:15)
    at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.EjbExceptionSupport.process(EjbExceptionSupport.java:42)
    at sun.reflect.GeneratedMethodAccessor168.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.tx.BMTInterceptor.handleStateless(BMTInterceptor.java:71)
    at org.jboss.ejb3.tx.BMTInterceptor.invoke(BMTInterceptor.java:131)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)
    at org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:240)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:210)
    at org.jboss.ejb3.stateless.StatelessLocalProxy.invoke(StatelessLocalProxy.java:84)
    at com.sun.proxy.$Proxy104.remove(Unknown Source)
    at ru.runa.wfe.service.delegate.ExecutorServiceDelegate.remove(ExecutorServiceDelegate.java:49)
    at ru.runa.af.web.action.RemoveExecutorsAction.execute(RemoveExecutorsAction.java:52)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    at ru.runa.common.web.UTF8RequestProcessor.process(UTF8RequestProcessor.java:41)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.XSSFilter.doFilter(XSSFilter.java:18)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.HTTPSessionFilter.doFilter(HTTPSessionFilter.java:49)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.af.web.filter.NTLMFilter.doFilter(NTLMFilter.java:54)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:179)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)
    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)
    at java.lang.Thread.run(Thread.java:722)
Caused by: org.hibernate.exception.ConstraintViolationException: could not delete: [ru.runa.wfe.user.Actor#9]
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:71)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2541)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2697)
    at org.hibernate.action.EntityDeleteAction.execute(EntityDeleteAction.java:74)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:234)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:146)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:298)
    at org.hibernate.event.def.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:41)
    at org.hibernate.impl.SessionImpl.autoFlushIfRequired(SessionImpl.java:969)
    at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1114)
    at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:921)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:1)
    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)
    ... 97 more
Caused by: java.sql.SQLException: Integrity constraint violation FK_SWIMLANE_EXECUTOR table: BPM_SWIMLANE in statement [/* delete ru.runa.wfe.user.Actor */ delete from EXECUTOR where ID=? and VERSION=?]
    at org.hsqldb.jdbc.Util.throwError(Unknown Source)
    at org.hsqldb.jdbc.jdbcPreparedStatement.executeUpdate(Unknown Source)
    at org.jboss.resource.adapter.jdbc.CachedPreparedStatement.executeUpdate(CachedPreparedStatement.java:95)
    at org.jboss.resource.adapter.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:365)
    at sun.reflect.GeneratedMethodAccessor202.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:385)
    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:130)
    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:271)
    at com.sun.proxy.$Proxy206.executeUpdate(Unknown Source)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2523)
    ... 110 more
2013-06-24 22:40:12,487 DEBUG [ru.runa.common.web.ActionExceptionHelper] action exception
java.sql.SQLException: Integrity constraint violation FK_SWIMLANE_EXECUTOR table: BPM_SWIMLANE in statement [/* delete ru.runa.wfe.user.Actor */ delete from EXECUTOR where ID=? and VERSION=?]
    at org.hsqldb.jdbc.Util.throwError(Unknown Source)
    at org.hsqldb.jdbc.jdbcPreparedStatement.executeUpdate(Unknown Source)
    at org.jboss.resource.adapter.jdbc.CachedPreparedStatement.executeUpdate(CachedPreparedStatement.java:95)
    at org.jboss.resource.adapter.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:365)
    at sun.reflect.GeneratedMethodAccessor202.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:385)
    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:130)
    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:271)
    at com.sun.proxy.$Proxy206.executeUpdate(Unknown Source)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2523)
    at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:2697)
    at org.hibernate.action.EntityDeleteAction.execute(EntityDeleteAction.java:74)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:234)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:146)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:298)
    at org.hibernate.event.def.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:41)
    at org.hibernate.impl.SessionImpl.autoFlushIfRequired(SessionImpl.java:969)
    at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1114)
    at org.hibernate.impl.QueryImpl.list(QueryImpl.java:79)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:921)
    at org.springframework.orm.hibernate3.HibernateTemplate$30.doInHibernate(HibernateTemplate.java:1)
    at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)
    at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:912)
    at org.springframework.orm.hibernate3.HibernateTemplate.find(HibernateTemplate.java:908)
    at ru.runa.wfe.user.dao.ExecutorDAO.getExecutorMemberships(ExecutorDAO.java:583)
    at ru.runa.wfe.user.dao.ExecutorDAO.remove(ExecutorDAO.java:646)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:141)
    at ru.runa.wfe.user.logic.ExecutorLogic.remove(ExecutorLogic.java:127)
    at ru.runa.wfe.service.impl.ExecutorServiceBean.remove(ExecutorServiceBean.java:102)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.invokeWithRetry(EjbTransactionSupport.java:79)
    at ru.runa.wfe.service.interceptors.EjbTransactionSupport.process(EjbTransactionSupport.java:44)
    at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.PerformanceObserver.process(PerformanceObserver.java:15)
    at sun.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at ru.runa.wfe.service.interceptors.EjbExceptionSupport.process(EjbExceptionSupport.java:42)
    at sun.reflect.GeneratedMethodAccessor168.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:118)
    at org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.tx.BMTInterceptor.handleStateless(BMTInterceptor.java:71)
    at org.jboss.ejb3.tx.BMTInterceptor.invoke(BMTInterceptor.java:131)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.tx.TxPropagationInterceptor.invoke(TxPropagationInterceptor.java:95)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.aspects.security.AuthenticationInterceptor.invoke(AuthenticationInterceptor.java:77)
    at org.jboss.ejb3.security.Ejb3AuthenticationInterceptor.invoke(Ejb3AuthenticationInterceptor.java:110)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.ENCPropagationInterceptor.invoke(ENCPropagationInterceptor.java:46)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.asynchronous.AsynchronousInterceptor.invoke(AsynchronousInterceptor.java:106)
    at org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:240)
    at org.jboss.ejb3.stateless.StatelessContainer.localInvoke(StatelessContainer.java:210)
    at org.jboss.ejb3.stateless.StatelessLocalProxy.invoke(StatelessLocalProxy.java:84)
    at com.sun.proxy.$Proxy104.remove(Unknown Source)
    at ru.runa.wfe.service.delegate.ExecutorServiceDelegate.remove(ExecutorServiceDelegate.java:49)
    at ru.runa.af.web.action.RemoveExecutorsAction.execute(RemoveExecutorsAction.java:52)
    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)
    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)
    at ru.runa.common.web.UTF8RequestProcessor.process(UTF8RequestProcessor.java:41)
    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.XSSFilter.doFilter(XSSFilter.java:18)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.common.web.filter.HTTPSessionFilter.doFilter(HTTPSessionFilter.java:49)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at ru.runa.af.web.filter.NTLMFilter.doFilter(NTLMFilter.java:54)
    at ru.runa.common.web.filter.HTTPFilterBase.doFilter(HTTPFilterBase.java:50)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:206)
    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:179)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)
    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446)
    at java.lang.Thread.run(Thread.java:722)
2013-06-24 22:40:12,548 INFO [ru.runa.wfe.user.cache.ExecutorCacheCtrl] Cache initializing
2013-06-24 22:40:12,563 INFO [ru.runa.wfe.user.cache.ExecutorCacheCtrl] Cache is initialized
2013-06-24 22:40:35,638 DEBUG [ru.runa.wfe.job.impl.ExpiredJobCheckerTask] Expired jobs: 0
2013-06-24 22:41:35,637 DEBUG [ru.runa.wfe.job.impl.ExpiredJobCheckerTask] Expired jobs: 0