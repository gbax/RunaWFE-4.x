<?xml version="1.0" encoding="UTF-8"?>

<!-- The Hypersonic embedded database JCA connection factory config -->

<!-- See http://www.jboss.org/community/wiki/Multiple1PC for information about local-tx-datasource -->
<!-- $Id: hsqldb-ds.xml 88948 2009-05-15 14:09:08Z jesper.pedersen $ -->

<datasources>
  <local-tx-datasource>
    <jndi-name>RunaDataSource</jndi-name>
    <connection-url>jdbc:postgresql://10.10.31.33:5432</connection-url>
    <driver-class>org.postgresql.Driver</driver-class>
    <user-name>postgres</user-name>
    <password>serV3r10</password>

    <prepared-statement-cache-size>50</prepared-statement-cache-size>
    <min-pool-size>1</min-pool-size>
    <max-pool-size>200</max-pool-size>
    <max-idle-timeout>0</max-idle-timeout>
    <blocking-timeout-millis>30000</blocking-timeout-millis>
    <idle-timeout-minutes>2</idle-timeout-minutes>
    <track-statements>true</track-statements>
    <new-connection-sql>select 1</new-connection-sql>
    <check-valid-connection-sql>select 1</check-valid-connection-sql>
  </local-tx-datasource>

  <local-tx-datasource>
    <jndi-name>RunaExDataSource</jndi-name>
    <connection-url>jdbc:postgresql://10.10.31.33:5432/runaex</connection-url>
    <driver-class>org.postgresql.Driver</driver-class>
    <user-name>runaex</user-name>
    <password>runaex</password>

    <prepared-statement-cache-size>50</prepared-statement-cache-size>
    <min-pool-size>1</min-pool-size>
    <max-pool-size>200</max-pool-size>
    <max-idle-timeout>0</max-idle-timeout>
    <blocking-timeout-millis>30000</blocking-timeout-millis>
    <idle-timeout-minutes>2</idle-timeout-minutes>
    <track-statements>true</track-statements>
    <new-connection-sql>select 1</new-connection-sql>
    <check-valid-connection-sql>select 1</check-valid-connection-sql>
  </local-tx-datasource>

  <local-tx-datasource>
    <jndi-name>RunaExTmpDataSource</jndi-name>
    <connection-url>jdbc:postgresql://10.10.31.33:5432/runaex_tmp</connection-url>
    <driver-class>org.postgresql.Driver</driver-class>
    <user-name>runaex_tmp</user-name>
    <password>runaex_tmp</password>

    <prepared-statement-cache-size>50</prepared-statement-cache-size>
    <min-pool-size>1</min-pool-size>
    <max-pool-size>200</max-pool-size>
    <max-idle-timeout>0</max-idle-timeout>
    <blocking-timeout-millis>30000</blocking-timeout-millis>
    <idle-timeout-minutes>2</idle-timeout-minutes>
    <track-statements>true</track-statements>
    <new-connection-sql>select 1</new-connection-sql>
    <check-valid-connection-sql>select 1</check-valid-connection-sql>
  </local-tx-datasource>

  <mbean code="org.jboss.naming.JNDIBindingServiceMgr" name="jboss.tests:name=runaExDS">
    <attribute name="BindingsConfig" serialDataType="jbxb">
      <jndi:bindings xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
                     xmlns:jndi="urn:jboss:jndi-binding-service:1.0"
                     xs:schemaLocation="urn:jboss:jndi-binding-service resource:jndi-binding-service_1_0.xsd">
        <jndi:binding name="SphinxDataSource">
          <java:properties xmlns:java="urn:jboss:java-properties"
                           xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
                           xs:schemaLocation="urn:jboss:java-properties resource:java-properties_1_0.xsd">
            <java:property>
              <java:key>host</java:key>
              <java:value>10.10.31.12</java:value>
            </java:property>
            <java:property>
              <java:key>port</java:key>
              <java:value>9988</java:value>
            </java:property>
          </java:properties>
        </jndi:binding>

        <jndi:binding name="LiquibaseDatabaseDS">
          <java:properties xmlns:java="urn:jboss:java-properties"
                           xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
                           xs:schemaLocation="urn:jboss:java-properties resource:java-properties_1_0.xsd">
            <java:property>
              <java:key>driverClassName</java:key>
              <java:value>org.postgresql.Driver</java:value>
            </java:property>
            <java:property>
              <java:key>dbUrl</java:key>
              <java:value>jdbc:postgresql://10.10.31.33:5432</java:value>
            </java:property>

            <java:property>
              <java:key>targetDbName</java:key>
              <java:value>runaex</java:value>
            </java:property>
            <java:property>
              <java:key>targetDbUsername</java:key>
              <java:value>runaex</java:value>
            </java:property>
            <java:property>
              <java:key>targetDbPassword</java:key>
              <java:value>runaex</java:value>
            </java:property>

            <java:property>
              <java:key>referenceDbName</java:key>
              <java:value>runaex_tmp</java:value>
            </java:property>
            <java:property>
              <java:key>referenceDbUsername</java:key>
              <java:value>runaex_tmp</java:value>
            </java:property>
            <java:property>
              <java:key>referenceDbPassword</java:key>
              <java:value>runaex_tmp</java:value>
            </java:property>
          </java:properties>
        </jndi:binding>
      </jndi:bindings>
    </attribute>
  </mbean>

</datasources>
